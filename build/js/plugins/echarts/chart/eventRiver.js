define("echarts/chart/eventRiver",["require","./base","../layout/eventRiver","zrender/shape/Polygon","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","../util/date","zrender/tool/util","zrender/tool/color","../chart"],function(e){function t(e,t,n,a,o){i.call(this,e,t,n,a,o);var r=this;r._ondragend=function(){r.isDragend=!0},this.refresh(a)}var i=e("./base"),n=e("../layout/eventRiver"),a=e("zrender/shape/Polygon");e("../component/axis"),e("../component/grid"),e("../component/dataZoom");var o=e("../config");o.eventRiver={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0,position:"inside",formatter:"{b}"}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0}}}};var r=e("../util/ecData"),s=e("../util/date"),l=e("zrender/tool/util"),h=e("zrender/tool/color");return t.prototype={type:o.CHART_TYPE_EVENTRIVER,_buildShape:function(){var e=this.series;this.selectedMap={},this._dataPreprocessing();for(var t=this.component.legend,i=[],a=0;a<e.length;a++)if(e[a].type===this.type){e[a]=this.reformOption(e[a]),this.legendHoverLink=e[a].legendHoverLink||this.legendHoverLink;var o=e[a].name||"";if(this.selectedMap[o]=t?t.isSelected(o):!0,!this.selectedMap[o])continue;this.buildMark(a),i.push(this.series[a])}n(i,this._intervalX,this.component.grid.getArea()),this._drawEventRiver(),this.addShapeList()},_dataPreprocessing:function(){for(var e,t,i=this.series,n=0,a=i.length;a>n;n++)if(i[n].type===this.type){e=this.component.xAxis.getAxis(i[n].xAxisIndex||0);for(var o=0,r=i[n].eventList.length;r>o;o++){t=i[n].eventList[o].evolution;for(var l=0,h=t.length;h>l;l++)t[l].timeScale=e.getCoord(s.getNewDate(t[l].time)-0),t[l].valueScale=Math.pow(t[l].value,.8)}}this._intervalX=Math.round(this.component.grid.getWidth()/40)},_drawEventRiver:function(){for(var e=this.series,t=0;t<e.length;t++){var i=e[t].name||"";if(e[t].type===this.type&&this.selectedMap[i])for(var n=0;n<e[t].eventList.length;n++)this._drawEventBubble(e[t].eventList[n],t,n)}},_drawEventBubble:function(e,t,i){var n=this.series,o=n[t],s=o.name||"",l=o.eventList[i],m=[l,o],V=this.component.legend,U=V?V.getColor(s):this.zr.getColor(t),d=this.deepMerge(m,"itemStyle.normal")||{},p=this.deepMerge(m,"itemStyle.emphasis")||{},c=this.getItemStyleColor(d.color,t,i,l)||U,u=this.getItemStyleColor(p.color,t,i,l)||("string"==typeof c?h.lift(c,-.2):c),y=this._calculateControlPoints(e),g={zlevel:this.getZlevelBase(),z:this.getZBase(),clickable:this.deepQuery(m,"clickable"),style:{pointList:y,smooth:"spline",brushType:"both",lineJoin:"round",color:c,lineWidth:d.borderWidth,strokeColor:d.borderColor},highlightStyle:{color:u,lineWidth:p.borderWidth,strokeColor:p.borderColor},draggable:"vertical",ondragend:this._ondragend};g=new a(g),this.addLabel(g,o,l,e.name),r.pack(g,n[t],t,n[t].eventList[i],i,n[t].eventList[i].name),this.shapeList.push(g)},_calculateControlPoints:function(e){var t=this._intervalX,i=e.y,n=e.evolution,a=n.length;if(!(1>a)){for(var o=[],r=[],s=0;a>s;s++)o.push(n[s].timeScale),r.push(n[s].valueScale);var l=[];l.push([o[0],i]);var s=0;for(s=0;a-1>s;s++)l.push([(o[s]+o[s+1])/2,r[s]/-2+i]);for(l.push([(o[s]+(o[s]+t))/2,r[s]/-2+i]),l.push([o[s]+t,i]),l.push([(o[s]+(o[s]+t))/2,r[s]/2+i]),s=a-1;s>0;s--)l.push([(o[s]+o[s-1])/2,r[s-1]/2+i]);return l}},ondragend:function(e,t){this.isDragend&&e.target&&(t.dragOut=!0,t.dragIn=!0,t.needRefresh=!1,this.isDragend=!1)},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()}},l.inherits(t,i),e("../chart").define("eventRiver",t),t}),define("echarts/layout/eventRiver",["require"],function(){function e(e,o,r){function s(e,t){var i=e.importance,n=t.importance;return i>n?-1:n>i?1:0}function l(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1}for(var h=5,m=o,V=0;V<e.length;V++){for(var U=0;U<e[V].eventList.length;U++){null==e[V].eventList[U].weight&&(e[V].eventList[U].weight=1);for(var d=0,p=0;p<e[V].eventList[U].evolution.length;p++)d+=e[V].eventList[U].evolution[p].valueScale;e[V].eventList[U].importance=d*e[V].eventList[U].weight}e[V].eventList.sort(s)}for(var V=0;V<e.length;V++){null==e[V].weight&&(e[V].weight=1);for(var d=0,U=0;U<e[V].eventList.length;U++)d+=e[V].eventList[U].weight;e[V].importance=d*e[V].weight}e.sort(s);for(var c=Number.MAX_VALUE,u=0,V=0;V<e.length;V++)for(var U=0;U<e[V].eventList.length;U++)for(var p=0;p<e[V].eventList[U].evolution.length;p++){var y=e[V].eventList[U].evolution[p].timeScale;c=Math.min(c,y),u=Math.max(u,y)}for(var g=i(Math.floor(c),Math.ceil(u)),b=0,V=0;V<e.length;V++)for(var U=0;U<e[V].eventList.length;U++){var f=e[V].eventList[U];f.time=[],f.value=[];for(var p=0;p<e[V].eventList[U].evolution.length;p++)f.time.push(e[V].eventList[U].evolution[p].timeScale),f.value.push(e[V].eventList[U].evolution[p].valueScale);var k=l(f.value,Math.max.apply(Math,f.value)),x=n(g,f.time[k],f.time[k+1]),p=0;for(f.y=x+f.value[k]/2+h,p=0;p<f.time.length-1;p++){var _=n(g,f.time[p],f.time[p+1]);f.y-f.value[p]/2-h<_&&(f.y=_+f.value[p]/2+h)}var _=n(g,f.time[p],f.time[p]+m);for(f.y-f.value[p]/2-h<_&&(f.y=_+f.value[p]/2+h),e[V].y=f.y,b=Math.max(b,f.y+f.value[k]/2),p=0;p<f.time.length-1;p++)a(g,f.time[p],f.time[p+1],f.y+f.value[p]/2);a(g,f.time[p],f.time[p]+m,f.y+f.value[p]/2)}t(e,r,b,h)}function t(e,t,i,n){for(var a=t.y,o=(t.height-n)/i,r=0;r<e.length;r++){e[r].y=e[r].y*o+a;for(var s=e[r].eventList,l=0;l<s.length;l++){s[l].y=s[l].y*o+a;for(var h=s[l].evolution,m=0;m<h.length;m++)h[m].valueScale*=1*o}}}function i(e,t){var n={left:e,right:t,leftChild:null,rightChild:null,maxValue:0};if(t>e+1){var a=Math.round((e+t)/2);n.leftChild=i(e,a),n.rightChild=i(a,t)}return n}function n(e,t,i){if(1>i-t)return 0;var a=Math.round((e.left+e.right)/2),o=0;if(t==e.left&&i==e.right)o=e.maxValue;else if(a>=i&&null!=e.leftChild)o=n(e.leftChild,t,i);else if(t>=a&&null!=e.rightChild)o=n(e.rightChild,t,i);else{var r=0,s=0;null!=e.leftChild&&(r=n(e.leftChild,t,a)),null!=e.rightChild&&(s=n(e.rightChild,a,i)),o=r>s?r:s}return o}function a(e,t,i,n){if(null!=e){var o=Math.round((e.left+e.right)/2);e.maxValue=e.maxValue>n?e.maxValue:n,(Math.floor(10*t)!=Math.floor(10*e.left)||Math.floor(10*i)!=Math.floor(10*e.right))&&(o>=i?a(e.leftChild,t,i,n):t>=o?a(e.rightChild,t,i,n):(a(e.leftChild,t,o,n),a(e.rightChild,o,i,n)))}}return e});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwbHVnaW5zL2VjaGFydHMvY2hhcnQvZXZlbnRSaXZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoXCJlY2hhcnRzL2NoYXJ0L2V2ZW50Uml2ZXJcIixbXCJyZXF1aXJlXCIsXCIuL2Jhc2VcIixcIi4uL2xheW91dC9ldmVudFJpdmVyXCIsXCJ6cmVuZGVyL3NoYXBlL1BvbHlnb25cIixcIi4uL2NvbXBvbmVudC9heGlzXCIsXCIuLi9jb21wb25lbnQvZ3JpZFwiLFwiLi4vY29tcG9uZW50L2RhdGFab29tXCIsXCIuLi9jb25maWdcIixcIi4uL3V0aWwvZWNEYXRhXCIsXCIuLi91dGlsL2RhdGVcIixcInpyZW5kZXIvdG9vbC91dGlsXCIsXCJ6cmVuZGVyL3Rvb2wvY29sb3JcIixcIi4uL2NoYXJ0XCJdLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4sYSxvKXtpLmNhbGwodGhpcyxlLHQsbixhLG8pO3ZhciByPXRoaXM7ci5fb25kcmFnZW5kPWZ1bmN0aW9uKCl7ci5pc0RyYWdlbmQ9ITB9LHRoaXMucmVmcmVzaChhKX12YXIgaT1lKFwiLi9iYXNlXCIpLG49ZShcIi4uL2xheW91dC9ldmVudFJpdmVyXCIpLGE9ZShcInpyZW5kZXIvc2hhcGUvUG9seWdvblwiKTtlKFwiLi4vY29tcG9uZW50L2F4aXNcIiksZShcIi4uL2NvbXBvbmVudC9ncmlkXCIpLGUoXCIuLi9jb21wb25lbnQvZGF0YVpvb21cIik7dmFyIG89ZShcIi4uL2NvbmZpZ1wiKTtvLmV2ZW50Uml2ZXI9e3psZXZlbDowLHo6MixjbGlja2FibGU6ITAsbGVnZW5kSG92ZXJMaW5rOiEwLGl0ZW1TdHlsZTp7bm9ybWFsOntib3JkZXJDb2xvcjpcInJnYmEoMCwwLDAsMClcIixib3JkZXJXaWR0aDoxLGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOlwiaW5zaWRlXCIsZm9ybWF0dGVyOlwie2J9XCJ9fSxlbXBoYXNpczp7Ym9yZGVyQ29sb3I6XCJyZ2JhKDAsMCwwLDApXCIsYm9yZGVyV2lkdGg6MSxsYWJlbDp7c2hvdzohMH19fX07dmFyIHI9ZShcIi4uL3V0aWwvZWNEYXRhXCIpLHM9ZShcIi4uL3V0aWwvZGF0ZVwiKSxsPWUoXCJ6cmVuZGVyL3Rvb2wvdXRpbFwiKSxoPWUoXCJ6cmVuZGVyL3Rvb2wvY29sb3JcIik7cmV0dXJuIHQucHJvdG90eXBlPXt0eXBlOm8uQ0hBUlRfVFlQRV9FVkVOVFJJVkVSLF9idWlsZFNoYXBlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXJpZXM7dGhpcy5zZWxlY3RlZE1hcD17fSx0aGlzLl9kYXRhUHJlcHJvY2Vzc2luZygpO2Zvcih2YXIgdD10aGlzLmNvbXBvbmVudC5sZWdlbmQsaT1bXSxhPTA7YTxlLmxlbmd0aDthKyspaWYoZVthXS50eXBlPT09dGhpcy50eXBlKXtlW2FdPXRoaXMucmVmb3JtT3B0aW9uKGVbYV0pLHRoaXMubGVnZW5kSG92ZXJMaW5rPWVbYV0ubGVnZW5kSG92ZXJMaW5rfHx0aGlzLmxlZ2VuZEhvdmVyTGluazt2YXIgbz1lW2FdLm5hbWV8fFwiXCI7aWYodGhpcy5zZWxlY3RlZE1hcFtvXT10P3QuaXNTZWxlY3RlZChvKTohMCwhdGhpcy5zZWxlY3RlZE1hcFtvXSljb250aW51ZTt0aGlzLmJ1aWxkTWFyayhhKSxpLnB1c2godGhpcy5zZXJpZXNbYV0pfW4oaSx0aGlzLl9pbnRlcnZhbFgsdGhpcy5jb21wb25lbnQuZ3JpZC5nZXRBcmVhKCkpLHRoaXMuX2RyYXdFdmVudFJpdmVyKCksdGhpcy5hZGRTaGFwZUxpc3QoKX0sX2RhdGFQcmVwcm9jZXNzaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQsaT10aGlzLnNlcmllcyxuPTAsYT1pLmxlbmd0aDthPm47bisrKWlmKGlbbl0udHlwZT09PXRoaXMudHlwZSl7ZT10aGlzLmNvbXBvbmVudC54QXhpcy5nZXRBeGlzKGlbbl0ueEF4aXNJbmRleHx8MCk7Zm9yKHZhciBvPTAscj1pW25dLmV2ZW50TGlzdC5sZW5ndGg7cj5vO28rKyl7dD1pW25dLmV2ZW50TGlzdFtvXS5ldm9sdXRpb247Zm9yKHZhciBsPTAsaD10Lmxlbmd0aDtoPmw7bCsrKXRbbF0udGltZVNjYWxlPWUuZ2V0Q29vcmQocy5nZXROZXdEYXRlKHRbbF0udGltZSktMCksdFtsXS52YWx1ZVNjYWxlPU1hdGgucG93KHRbbF0udmFsdWUsLjgpfX10aGlzLl9pbnRlcnZhbFg9TWF0aC5yb3VuZCh0aGlzLmNvbXBvbmVudC5ncmlkLmdldFdpZHRoKCkvNDApfSxfZHJhd0V2ZW50Uml2ZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5zZXJpZXMsdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdLm5hbWV8fFwiXCI7aWYoZVt0XS50eXBlPT09dGhpcy50eXBlJiZ0aGlzLnNlbGVjdGVkTWFwW2ldKWZvcih2YXIgbj0wO248ZVt0XS5ldmVudExpc3QubGVuZ3RoO24rKyl0aGlzLl9kcmF3RXZlbnRCdWJibGUoZVt0XS5ldmVudExpc3Rbbl0sdCxuKX19LF9kcmF3RXZlbnRCdWJibGU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXRoaXMuc2VyaWVzLG89blt0XSxzPW8ubmFtZXx8XCJcIixsPW8uZXZlbnRMaXN0W2ldLG09W2wsb10sVj10aGlzLmNvbXBvbmVudC5sZWdlbmQsVT1WP1YuZ2V0Q29sb3Iocyk6dGhpcy56ci5nZXRDb2xvcih0KSxkPXRoaXMuZGVlcE1lcmdlKG0sXCJpdGVtU3R5bGUubm9ybWFsXCIpfHx7fSxwPXRoaXMuZGVlcE1lcmdlKG0sXCJpdGVtU3R5bGUuZW1waGFzaXNcIil8fHt9LGM9dGhpcy5nZXRJdGVtU3R5bGVDb2xvcihkLmNvbG9yLHQsaSxsKXx8VSx1PXRoaXMuZ2V0SXRlbVN0eWxlQ29sb3IocC5jb2xvcix0LGksbCl8fChcInN0cmluZ1wiPT10eXBlb2YgYz9oLmxpZnQoYywtLjIpOmMpLHk9dGhpcy5fY2FsY3VsYXRlQ29udHJvbFBvaW50cyhlKSxnPXt6bGV2ZWw6dGhpcy5nZXRabGV2ZWxCYXNlKCksejp0aGlzLmdldFpCYXNlKCksY2xpY2thYmxlOnRoaXMuZGVlcFF1ZXJ5KG0sXCJjbGlja2FibGVcIiksc3R5bGU6e3BvaW50TGlzdDp5LHNtb290aDpcInNwbGluZVwiLGJydXNoVHlwZTpcImJvdGhcIixsaW5lSm9pbjpcInJvdW5kXCIsY29sb3I6YyxsaW5lV2lkdGg6ZC5ib3JkZXJXaWR0aCxzdHJva2VDb2xvcjpkLmJvcmRlckNvbG9yfSxoaWdobGlnaHRTdHlsZTp7Y29sb3I6dSxsaW5lV2lkdGg6cC5ib3JkZXJXaWR0aCxzdHJva2VDb2xvcjpwLmJvcmRlckNvbG9yfSxkcmFnZ2FibGU6XCJ2ZXJ0aWNhbFwiLG9uZHJhZ2VuZDp0aGlzLl9vbmRyYWdlbmR9O2c9bmV3IGEoZyksdGhpcy5hZGRMYWJlbChnLG8sbCxlLm5hbWUpLHIucGFjayhnLG5bdF0sdCxuW3RdLmV2ZW50TGlzdFtpXSxpLG5bdF0uZXZlbnRMaXN0W2ldLm5hbWUpLHRoaXMuc2hhcGVMaXN0LnB1c2goZyl9LF9jYWxjdWxhdGVDb250cm9sUG9pbnRzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ludGVydmFsWCxpPWUueSxuPWUuZXZvbHV0aW9uLGE9bi5sZW5ndGg7aWYoISgxPmEpKXtmb3IodmFyIG89W10scj1bXSxzPTA7YT5zO3MrKylvLnB1c2gobltzXS50aW1lU2NhbGUpLHIucHVzaChuW3NdLnZhbHVlU2NhbGUpO3ZhciBsPVtdO2wucHVzaChbb1swXSxpXSk7dmFyIHM9MDtmb3Iocz0wO2EtMT5zO3MrKylsLnB1c2goWyhvW3NdK29bcysxXSkvMixyW3NdLy0yK2ldKTtmb3IobC5wdXNoKFsob1tzXSsob1tzXSt0KSkvMixyW3NdLy0yK2ldKSxsLnB1c2goW29bc10rdCxpXSksbC5wdXNoKFsob1tzXSsob1tzXSt0KSkvMixyW3NdLzIraV0pLHM9YS0xO3M+MDtzLS0pbC5wdXNoKFsob1tzXStvW3MtMV0pLzIscltzLTFdLzIraV0pO3JldHVybiBsfX0sb25kcmFnZW5kOmZ1bmN0aW9uKGUsdCl7dGhpcy5pc0RyYWdlbmQmJmUudGFyZ2V0JiYodC5kcmFnT3V0PSEwLHQuZHJhZ0luPSEwLHQubmVlZFJlZnJlc2g9ITEsdGhpcy5pc0RyYWdlbmQ9ITEpfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe2UmJih0aGlzLm9wdGlvbj1lLHRoaXMuc2VyaWVzPWUuc2VyaWVzKSx0aGlzLmJhY2t1cFNoYXBlTGlzdCgpLHRoaXMuX2J1aWxkU2hhcGUoKX19LGwuaW5oZXJpdHModCxpKSxlKFwiLi4vY2hhcnRcIikuZGVmaW5lKFwiZXZlbnRSaXZlclwiLHQpLHR9KSxkZWZpbmUoXCJlY2hhcnRzL2xheW91dC9ldmVudFJpdmVyXCIsW1wicmVxdWlyZVwiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxvLHIpe2Z1bmN0aW9uIHMoZSx0KXt2YXIgaT1lLmltcG9ydGFuY2Usbj10LmltcG9ydGFuY2U7cmV0dXJuIGk+bj8tMTpuPmk/MTowfWZ1bmN0aW9uIGwoZSx0KXtpZihlLmluZGV4T2YpcmV0dXJuIGUuaW5kZXhPZih0KTtmb3IodmFyIGk9MCxuPWUubGVuZ3RoO24+aTtpKyspaWYoZVtpXT09PXQpcmV0dXJuIGk7cmV0dXJuLTF9Zm9yKHZhciBoPTUsbT1vLFY9MDtWPGUubGVuZ3RoO1YrKyl7Zm9yKHZhciBVPTA7VTxlW1ZdLmV2ZW50TGlzdC5sZW5ndGg7VSsrKXtudWxsPT1lW1ZdLmV2ZW50TGlzdFtVXS53ZWlnaHQmJihlW1ZdLmV2ZW50TGlzdFtVXS53ZWlnaHQ9MSk7Zm9yKHZhciBkPTAscD0wO3A8ZVtWXS5ldmVudExpc3RbVV0uZXZvbHV0aW9uLmxlbmd0aDtwKyspZCs9ZVtWXS5ldmVudExpc3RbVV0uZXZvbHV0aW9uW3BdLnZhbHVlU2NhbGU7ZVtWXS5ldmVudExpc3RbVV0uaW1wb3J0YW5jZT1kKmVbVl0uZXZlbnRMaXN0W1VdLndlaWdodH1lW1ZdLmV2ZW50TGlzdC5zb3J0KHMpfWZvcih2YXIgVj0wO1Y8ZS5sZW5ndGg7VisrKXtudWxsPT1lW1ZdLndlaWdodCYmKGVbVl0ud2VpZ2h0PTEpO2Zvcih2YXIgZD0wLFU9MDtVPGVbVl0uZXZlbnRMaXN0Lmxlbmd0aDtVKyspZCs9ZVtWXS5ldmVudExpc3RbVV0ud2VpZ2h0O2VbVl0uaW1wb3J0YW5jZT1kKmVbVl0ud2VpZ2h0fWUuc29ydChzKTtmb3IodmFyIGM9TnVtYmVyLk1BWF9WQUxVRSx1PTAsVj0wO1Y8ZS5sZW5ndGg7VisrKWZvcih2YXIgVT0wO1U8ZVtWXS5ldmVudExpc3QubGVuZ3RoO1UrKylmb3IodmFyIHA9MDtwPGVbVl0uZXZlbnRMaXN0W1VdLmV2b2x1dGlvbi5sZW5ndGg7cCsrKXt2YXIgeT1lW1ZdLmV2ZW50TGlzdFtVXS5ldm9sdXRpb25bcF0udGltZVNjYWxlO2M9TWF0aC5taW4oYyx5KSx1PU1hdGgubWF4KHUseSl9Zm9yKHZhciBnPWkoTWF0aC5mbG9vcihjKSxNYXRoLmNlaWwodSkpLGI9MCxWPTA7VjxlLmxlbmd0aDtWKyspZm9yKHZhciBVPTA7VTxlW1ZdLmV2ZW50TGlzdC5sZW5ndGg7VSsrKXt2YXIgZj1lW1ZdLmV2ZW50TGlzdFtVXTtmLnRpbWU9W10sZi52YWx1ZT1bXTtmb3IodmFyIHA9MDtwPGVbVl0uZXZlbnRMaXN0W1VdLmV2b2x1dGlvbi5sZW5ndGg7cCsrKWYudGltZS5wdXNoKGVbVl0uZXZlbnRMaXN0W1VdLmV2b2x1dGlvbltwXS50aW1lU2NhbGUpLGYudmFsdWUucHVzaChlW1ZdLmV2ZW50TGlzdFtVXS5ldm9sdXRpb25bcF0udmFsdWVTY2FsZSk7dmFyIGs9bChmLnZhbHVlLE1hdGgubWF4LmFwcGx5KE1hdGgsZi52YWx1ZSkpLHg9bihnLGYudGltZVtrXSxmLnRpbWVbaysxXSkscD0wO2ZvcihmLnk9eCtmLnZhbHVlW2tdLzIraCxwPTA7cDxmLnRpbWUubGVuZ3RoLTE7cCsrKXt2YXIgXz1uKGcsZi50aW1lW3BdLGYudGltZVtwKzFdKTtmLnktZi52YWx1ZVtwXS8yLWg8XyYmKGYueT1fK2YudmFsdWVbcF0vMitoKX12YXIgXz1uKGcsZi50aW1lW3BdLGYudGltZVtwXSttKTtmb3IoZi55LWYudmFsdWVbcF0vMi1oPF8mJihmLnk9XytmLnZhbHVlW3BdLzIraCksZVtWXS55PWYueSxiPU1hdGgubWF4KGIsZi55K2YudmFsdWVba10vMikscD0wO3A8Zi50aW1lLmxlbmd0aC0xO3ArKylhKGcsZi50aW1lW3BdLGYudGltZVtwKzFdLGYueStmLnZhbHVlW3BdLzIpO2EoZyxmLnRpbWVbcF0sZi50aW1lW3BdK20sZi55K2YudmFsdWVbcF0vMil9dChlLHIsYixoKX1mdW5jdGlvbiB0KGUsdCxpLG4pe2Zvcih2YXIgYT10Lnksbz0odC5oZWlnaHQtbikvaSxyPTA7cjxlLmxlbmd0aDtyKyspe2Vbcl0ueT1lW3JdLnkqbythO2Zvcih2YXIgcz1lW3JdLmV2ZW50TGlzdCxsPTA7bDxzLmxlbmd0aDtsKyspe3NbbF0ueT1zW2xdLnkqbythO2Zvcih2YXIgaD1zW2xdLmV2b2x1dGlvbixtPTA7bTxoLmxlbmd0aDttKyspaFttXS52YWx1ZVNjYWxlKj0xKm99fX1mdW5jdGlvbiBpKGUsdCl7dmFyIG49e2xlZnQ6ZSxyaWdodDp0LGxlZnRDaGlsZDpudWxsLHJpZ2h0Q2hpbGQ6bnVsbCxtYXhWYWx1ZTowfTtpZih0PmUrMSl7dmFyIGE9TWF0aC5yb3VuZCgoZSt0KS8yKTtuLmxlZnRDaGlsZD1pKGUsYSksbi5yaWdodENoaWxkPWkoYSx0KX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUsdCxpKXtpZigxPmktdClyZXR1cm4gMDt2YXIgYT1NYXRoLnJvdW5kKChlLmxlZnQrZS5yaWdodCkvMiksbz0wO2lmKHQ9PWUubGVmdCYmaT09ZS5yaWdodClvPWUubWF4VmFsdWU7ZWxzZSBpZihhPj1pJiZudWxsIT1lLmxlZnRDaGlsZClvPW4oZS5sZWZ0Q2hpbGQsdCxpKTtlbHNlIGlmKHQ+PWEmJm51bGwhPWUucmlnaHRDaGlsZClvPW4oZS5yaWdodENoaWxkLHQsaSk7ZWxzZXt2YXIgcj0wLHM9MDtudWxsIT1lLmxlZnRDaGlsZCYmKHI9bihlLmxlZnRDaGlsZCx0LGEpKSxudWxsIT1lLnJpZ2h0Q2hpbGQmJihzPW4oZS5yaWdodENoaWxkLGEsaSkpLG89cj5zP3I6c31yZXR1cm4gb31mdW5jdGlvbiBhKGUsdCxpLG4pe2lmKG51bGwhPWUpe3ZhciBvPU1hdGgucm91bmQoKGUubGVmdCtlLnJpZ2h0KS8yKTtlLm1heFZhbHVlPWUubWF4VmFsdWU+bj9lLm1heFZhbHVlOm4sKE1hdGguZmxvb3IoMTAqdCkhPU1hdGguZmxvb3IoMTAqZS5sZWZ0KXx8TWF0aC5mbG9vcigxMCppKSE9TWF0aC5mbG9vcigxMCplLnJpZ2h0KSkmJihvPj1pP2EoZS5sZWZ0Q2hpbGQsdCxpLG4pOnQ+PW8/YShlLnJpZ2h0Q2hpbGQsdCxpLG4pOihhKGUubGVmdENoaWxkLHQsbyxuKSxhKGUucmlnaHRDaGlsZCxvLGksbikpKX19cmV0dXJuIGV9KTsiXSwiZmlsZSI6InBsdWdpbnMvZWNoYXJ0cy9jaGFydC9ldmVudFJpdmVyLmpzIn0=
