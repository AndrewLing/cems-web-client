define("echarts/chart/scatter",["require","./base","../util/shape/Symbol","../component/axis","../component/grid","../component/dataZoom","../component/dataRange","../config","zrender/tool/util","zrender/tool/color","../chart"],function(e){function t(e,t,n,a,o){i.call(this,e,t,n,a,o),this.refresh(a)}var i=e("./base"),n=e("../util/shape/Symbol");e("../component/axis"),e("../component/grid"),e("../component/dataZoom"),e("../component/dataRange");var a=e("../config");a.scatter={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbolSize:4,large:!1,largeThreshold:2e3,itemStyle:{normal:{label:{show:!1}},emphasis:{label:{show:!1}}}};var o=e("zrender/tool/util"),s=e("zrender/tool/color");return t.prototype={type:a.CHART_TYPE_SCATTER,_buildShape:function(){var e=this.series;this._sIndex2ColorMap={},this._symbol=this.option.symbolList,this._sIndex2ShapeMap={},this.selectedMap={},this.xMarkMap={};for(var t,i,n,o,r=this.component.legend,l=[],h=0,d=e.length;d>h;h++)if(t=e[h],i=t.name,t.type===a.CHART_TYPE_SCATTER){if(e[h]=this.reformOption(e[h]),this.legendHoverLink=e[h].legendHoverLink||this.legendHoverLink,this._sIndex2ShapeMap[h]=this.query(t,"symbol")||this._symbol[h%this._symbol.length],r){if(this.selectedMap[i]=r.isSelected(i),this._sIndex2ColorMap[h]=s.alpha(r.getColor(i),.5),n=r.getItemShape(i)){var o=this._sIndex2ShapeMap[h];n.style.brushType=o.match("empty")?"stroke":"both",o=o.replace("empty","").toLowerCase(),o.match("rectangle")&&(n.style.x+=Math.round((n.style.width-n.style.height)/2),n.style.width=n.style.height),o.match("star")&&(n.style.n=o.replace("star","")-0||5,o="star"),o.match("image")&&(n.style.image=o.replace(new RegExp("^image:\\/\\/"),""),n.style.x+=Math.round((n.style.width-n.style.height)/2),n.style.width=n.style.height,o="image"),n.style.iconType=o,r.setItemShape(i,n)}}else this.selectedMap[i]=!0,this._sIndex2ColorMap[h]=s.alpha(this.zr.getColor(h),.5);this.selectedMap[i]&&l.push(h)}this._buildSeries(l),this.addShapeList()},_buildSeries:function(e){if(0!==e.length){for(var t,i,n,a,o,s,r,l,h=this.series,d={},m=0,c=e.length;c>m;m++)if(t=e[m],i=h[t],0!==i.data.length){o=this.component.xAxis.getAxis(i.xAxisIndex||0),s=this.component.yAxis.getAxis(i.yAxisIndex||0),d[t]=[];for(var p=0,u=i.data.length;u>p;p++)n=i.data[p],a=this.getDataFromOption(n,"-"),"-"===a||a.length<2||(r=o.getCoord(a[0]),l=s.getCoord(a[1]),d[t].push([r,l,p,n.name||""]));this.xMarkMap[t]=this._markMap(o,s,i.data,d[t]),this.buildMark(t)}this._buildPointList(d)}},_markMap:function(e,t,i,n){for(var a,o={min0:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,sum0:0,counter0:0,average0:0,min1:Number.POSITIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum1:0,counter1:0,average1:0},s=0,r=n.length;r>s;s++)a=i[n[s][2]].value||i[n[s][2]],o.min0>a[0]&&(o.min0=a[0],o.minY0=n[s][1],o.minX0=n[s][0]),o.max0<a[0]&&(o.max0=a[0],o.maxY0=n[s][1],o.maxX0=n[s][0]),o.sum0+=a[0],o.counter0++,o.min1>a[1]&&(o.min1=a[1],o.minY1=n[s][1],o.minX1=n[s][0]),o.max1<a[1]&&(o.max1=a[1],o.maxY1=n[s][1],o.maxX1=n[s][0]),o.sum1+=a[1],o.counter1++;var l=this.component.grid.getX(),h=this.component.grid.getXend(),d=this.component.grid.getY(),m=this.component.grid.getYend();o.average0=o.sum0/o.counter0;var c=e.getCoord(o.average0);o.averageLine0=[[c,m],[c,d]],o.minLine0=[[o.minX0,m],[o.minX0,d]],o.maxLine0=[[o.maxX0,m],[o.maxX0,d]],o.average1=o.sum1/o.counter1;var p=t.getCoord(o.average1);return o.averageLine1=[[l,p],[h,p]],o.minLine1=[[l,o.minY1],[h,o.minY1]],o.maxLine1=[[l,o.maxY1],[h,o.maxY1]],o},_buildPointList:function(e){var t,i,n,a,o=this.series;for(var s in e)if(t=o[s],i=e[s],t.large&&t.data.length>t.largeThreshold)this.shapeList.push(this._getLargeSymbol(i,this.getItemStyleColor(this.query(t,"itemStyle.normal.color"),s,-1)||this._sIndex2ColorMap[s]));else for(var r=0,l=i.length;l>r;r++)n=i[r],a=this._getSymbol(s,n[2],n[3],n[0],n[1]),a&&this.shapeList.push(a)},_getSymbol:function(e,t,i,n,a){var o,s=this.series,r=s[e],l=r.data[t],h=this.component.dataRange;if(h){if(o=isNaN(l[2])?this._sIndex2ColorMap[e]:h.getColor(l[2]),!o)return null}else o=this._sIndex2ColorMap[e];var d=this.getSymbolShape(r,e,l,t,i,n,a,this._sIndex2ShapeMap[e],o,"rgba(0,0,0,0)","vertical");return d.zlevel=this.getZlevelBase(),d.z=this.getZBase(),d._main=!0,d},_getLargeSymbol:function(e,t){return new n({zlevel:this.getZlevelBase(),z:this.getZBase(),_main:!0,hoverable:!1,style:{pointList:e,color:t,strokeColor:t},highlightStyle:{pointList:[]}})},getMarkCoord:function(e,t){var i,n=this.series[e],a=this.xMarkMap[e],o=this.component.xAxis.getAxis(n.xAxisIndex),s=this.component.yAxis.getAxis(n.yAxisIndex);if(!t.type||"max"!==t.type&&"min"!==t.type&&"average"!==t.type)i=["string"!=typeof t.xAxis&&o.getCoordByIndex?o.getCoordByIndex(t.xAxis||0):o.getCoord(t.xAxis||0),"string"!=typeof t.yAxis&&s.getCoordByIndex?s.getCoordByIndex(t.yAxis||0):s.getCoord(t.yAxis||0)];else{var r=null!=t.valueIndex?t.valueIndex:1;i=[a[t.type+"X"+r],a[t.type+"Y"+r],a[t.type+"Line"+r],a[t.type+r]]}return i},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()},ondataRange:function(e,t){this.component.dataRange&&(this.refresh(),t.needRefresh=!0)}},o.inherits(t,i),e("../chart").define("scatter",t),t}),define("echarts/component/dataRange",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../util/shape/HandlePolygon","../config","zrender/tool/util","zrender/tool/event","zrender/tool/area","zrender/tool/color","../component"],function(e){function t(e,t,n,a,o){if("undefined"==typeof this.query(a,"dataRange.min")||"undefined"==typeof this.query(a,"dataRange.max"))return void console.error("option.dataRange.min or option.dataRange.max has not been defined.");i.call(this,e,t,n,a,o);var r=this;r._ondrift=function(e,t){return r.__ondrift(this,e,t)},r._ondragend=function(){return r.__ondragend()},r._dataRangeSelected=function(e){return r.__dataRangeSelected(e)},r._dispatchHoverLink=function(e){return r.__dispatchHoverLink(e)},r._onhoverlink=function(e){return r.__onhoverlink(e)},this._selectedMap={},this._range={},this.refresh(a),t.bind(s.EVENT.HOVER,this._onhoverlink)}var i=e("./base"),n=e("zrender/shape/Text"),a=e("zrender/shape/Rectangle"),o=e("../util/shape/HandlePolygon"),s=e("../config");s.dataRange={zlevel:0,z:4,show:!0,orient:"vertical",x:"left",y:"bottom",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,precision:0,splitNumber:5,calculable:!1,selectedMode:!0,hoverLink:!0,realtime:!0,color:["#006edd","#e0ffff"],textStyle:{color:"#333"}};var r=e("zrender/tool/util"),l=e("zrender/tool/event"),h=e("zrender/tool/area"),d=e("zrender/tool/color");return t.prototype={type:s.COMPONENT_TYPE_DATARANGE,_textGap:10,_buildShape:function(){if(this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable?this._buildGradient():this._buildItem(),this.dataRangeOption.show)for(var e=0,t=this.shapeList.length;t>e;e++)this.zr.addShape(this.shapeList[e]);this._syncShapeFromRange()},_buildItem:function(){var e,t,i,o,s=this._valueTextList,r=s.length,l=this.getFont(this.dataRangeOption.textStyle),d=this._itemGroupLocation.x,m=this._itemGroupLocation.y,c=this.dataRangeOption.itemWidth,p=this.dataRangeOption.itemHeight,u=this.dataRangeOption.itemGap,V=h.getTextHeight("国",l);"vertical"==this.dataRangeOption.orient&&"right"==this.dataRangeOption.x&&(d=this._itemGroupLocation.x+this._itemGroupLocation.width-c);var U=!0;this.dataRangeOption.text&&(U=!1,this.dataRangeOption.text[0]&&(i=this._getTextShape(d,m,this.dataRangeOption.text[0]),"horizontal"==this.dataRangeOption.orient?d+=h.getTextWidth(this.dataRangeOption.text[0],l)+this._textGap:(m+=V+this._textGap,i.style.y+=V/2+this._textGap,i.style.textBaseline="bottom"),this.shapeList.push(new n(i))));for(var g=0;r>g;g++)e=s[g],o=this.getColorByIndex(g),t=this._getItemShape(d,m,c,p,this._selectedMap[g]?o:"#ccc"),t._idx=g,t.onmousemove=this._dispatchHoverLink,this.dataRangeOption.selectedMode&&(t.clickable=!0,t.onclick=this._dataRangeSelected),this.shapeList.push(new a(t)),U&&(i={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:d+c+5,y:m,color:this._selectedMap[g]?this.dataRangeOption.textStyle.color:"#ccc",text:s[g],textFont:l,textBaseline:"top"},highlightStyle:{brushType:"fill"}},"vertical"==this.dataRangeOption.orient&&"right"==this.dataRangeOption.x&&(i.style.x-=c+10,i.style.textAlign="right"),i._idx=g,i.onmousemove=this._dispatchHoverLink,this.dataRangeOption.selectedMode&&(i.clickable=!0,i.onclick=this._dataRangeSelected),this.shapeList.push(new n(i))),"horizontal"==this.dataRangeOption.orient?d+=c+(U?5:0)+(U?h.getTextWidth(e,l):0)+u:m+=p+u;!U&&this.dataRangeOption.text[1]&&("horizontal"==this.dataRangeOption.orient?d=d-u+this._textGap:m=m-u+this._textGap,i=this._getTextShape(d,m,this.dataRangeOption.text[1]),"horizontal"!=this.dataRangeOption.orient&&(i.style.y-=5,i.style.textBaseline="top"),this.shapeList.push(new n(i)))},_buildGradient:function(){var t,i,o=this.getFont(this.dataRangeOption.textStyle),s=this._itemGroupLocation.x,r=this._itemGroupLocation.y,l=this.dataRangeOption.itemWidth,d=this.dataRangeOption.itemHeight,m=h.getTextHeight("国",o),c=10,p=!0;this.dataRangeOption.text&&(p=!1,this.dataRangeOption.text[0]&&(i=this._getTextShape(s,r,this.dataRangeOption.text[0]),"horizontal"==this.dataRangeOption.orient?s+=h.getTextWidth(this.dataRangeOption.text[0],o)+this._textGap:(r+=m+this._textGap,i.style.y+=m/2+this._textGap,i.style.textBaseline="bottom"),this.shapeList.push(new n(i))));for(var u=e("zrender/tool/color"),V=1/(this.dataRangeOption.color.length-1),U=[],g=0,y=this.dataRangeOption.color.length;y>g;g++)U.push([g*V,this.dataRangeOption.color[g]]);"horizontal"==this.dataRangeOption.orient?(t={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:s,y:r,width:l*c,height:d,color:u.getLinearGradient(s,r,s+l*c,r,U)},hoverable:!1},s+=l*c+this._textGap):(t={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:s,y:r,width:l,height:d*c,color:u.getLinearGradient(s,r,s,r+d*c,U)},hoverable:!1},r+=d*c+this._textGap),this.shapeList.push(new a(t)),this._calculableLocation=t.style,this.dataRangeOption.calculable&&(this._buildFiller(),this._bulidMask(),this._bulidHandle()),this._buildIndicator(),!p&&this.dataRangeOption.text[1]&&(i=this._getTextShape(s,r,this.dataRangeOption.text[1]),this.shapeList.push(new n(i)))},_buildIndicator:function(){var e,t,i=this._calculableLocation.x,n=this._calculableLocation.y,a=this._calculableLocation.width,s=this._calculableLocation.height,r=5;"horizontal"==this.dataRangeOption.orient?"bottom"!=this.dataRangeOption.y?(e=[[i,n+s],[i-r,n+s+r],[i+r,n+s+r]],t="bottom"):(e=[[i,n],[i-r,n-r],[i+r,n-r]],t="top"):"right"!=this.dataRangeOption.x?(e=[[i+a,n],[i+a+r,n-r],[i+a+r,n+r]],t="right"):(e=[[i,n],[i-r,n-r],[i-r,n+r]],t="left"),this._indicatorShape={style:{pointList:e,color:"#fff",__rect:{x:Math.min(e[0][0],e[1][0]),y:Math.min(e[0][1],e[1][1]),width:r*("horizontal"==this.dataRangeOption.orient?2:1),height:r*("horizontal"==this.dataRangeOption.orient?1:2)}},highlightStyle:{brushType:"fill",textPosition:t,textColor:this.dataRangeOption.textStyle.color},hoverable:!1},this._indicatorShape=new o(this._indicatorShape)},_buildFiller:function(){this._fillerShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:this._calculableLocation.x,y:this._calculableLocation.y,width:this._calculableLocation.width,height:this._calculableLocation.height,color:"rgba(255,255,255,0)"},highlightStyle:{strokeColor:"rgba(255,255,255,0.5)",lineWidth:1},draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,onmousemove:this._dispatchHoverLink,_type:"filler"},this._fillerShape=new a(this._fillerShape),this.shapeList.push(this._fillerShape)},_bulidHandle:function(){var e,t,i,n,a,s,r,l,d=this._calculableLocation.x,m=this._calculableLocation.y,c=this._calculableLocation.width,p=this._calculableLocation.height,u=this.getFont(this.dataRangeOption.textStyle),V=h.getTextHeight("国",u),U=Math.max(h.getTextWidth(this._textFormat(this.dataRangeOption.max),u),h.getTextWidth(this._textFormat(this.dataRangeOption.min),u))+2;"horizontal"==this.dataRangeOption.orient?"bottom"!=this.dataRangeOption.y?(e=[[d,m],[d,m+p+V],[d-V,m+p+V],[d-1,m+p],[d-1,m]],t=d-U/2-V,i=m+p+V/2+2,n={x:d-U-V,y:m+p,width:U+V,height:V},a=[[d+c,m],[d+c,m+p+V],[d+c+V,m+p+V],[d+c+1,m+p],[d+c+1,m]],s=d+c+U/2+V,r=i,l={x:d+c,y:m+p,width:U+V,height:V}):(e=[[d,m+p],[d,m-V],[d-V,m-V],[d-1,m],[d-1,m+p]],t=d-U/2-V,i=m-V/2-2,n={x:d-U-V,y:m-V,width:U+V,height:V},a=[[d+c,m+p],[d+c,m-V],[d+c+V,m-V],[d+c+1,m],[d+c+1,m+p]],s=d+c+U/2+V,r=i,l={x:d+c,y:m-V,width:U+V,height:V}):(U+=V,"right"!=this.dataRangeOption.x?(e=[[d,m],[d+c+V,m],[d+c+V,m-V],[d+c,m-1],[d,m-1]],t=d+c+U/2+V/2,i=m-V/2,n={x:d+c,y:m-V,width:U+V,height:V},a=[[d,m+p],[d+c+V,m+p],[d+c+V,m+V+p],[d+c,m+1+p],[d,m+p+1]],s=t,r=m+p+V/2,l={x:d+c,y:m+p,width:U+V,height:V}):(e=[[d+c,m],[d-V,m],[d-V,m-V],[d,m-1],[d+c,m-1]],t=d-U/2-V/2,i=m-V/2,n={x:d-U-V,y:m-V,width:U+V,height:V},a=[[d+c,m+p],[d-V,m+p],[d-V,m+V+p],[d,m+1+p],[d+c,m+p+1]],s=t,r=m+p+V/2,l={x:d-U-V,y:m+p,width:U+V,height:V})),this._startShape={style:{pointList:e,text:this._textFormat(this.dataRangeOption.max),textX:t,textY:i,textFont:u,color:this.getColor(this.dataRangeOption.max),rect:n,x:e[0][0],y:e[0][1],_x:e[0][0],_y:e[0][1]}},this._startShape.highlightStyle={strokeColor:this._startShape.style.color,lineWidth:1},this._endShape={style:{pointList:a,text:this._textFormat(this.dataRangeOption.min),textX:s,textY:r,textFont:u,color:this.getColor(this.dataRangeOption.min),rect:l,x:a[0][0],y:a[0][1],_x:a[0][0],_y:a[0][1]}},this._endShape.highlightStyle={strokeColor:this._endShape.style.color,lineWidth:1},this._startShape.zlevel=this._endShape.zlevel=this.getZlevelBase(),this._startShape.z=this._endShape.z=this.getZBase()+1,this._startShape.draggable=this._endShape.draggable=!0,this._startShape.ondrift=this._endShape.ondrift=this._ondrift,this._startShape.ondragend=this._endShape.ondragend=this._ondragend,this._startShape.style.textColor=this._endShape.style.textColor=this.dataRangeOption.textStyle.color,this._startShape.style.textAlign=this._endShape.style.textAlign="center",this._startShape.style.textPosition=this._endShape.style.textPosition="specific",this._startShape.style.textBaseline=this._endShape.style.textBaseline="middle",this._startShape.style.width=this._endShape.style.width=0,this._startShape.style.height=this._endShape.style.height=0,this._startShape.style.textPosition=this._endShape.style.textPosition="specific",this._startShape=new o(this._startShape),this._endShape=new o(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_bulidMask:function(){var e=this._calculableLocation.x,t=this._calculableLocation.y,i=this._calculableLocation.width,n=this._calculableLocation.height;this._startMask={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:e,y:t,width:"horizontal"==this.dataRangeOption.orient?0:i,height:"horizontal"==this.dataRangeOption.orient?n:0,color:"#ccc"},hoverable:!1},this._endMask={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:"horizontal"==this.dataRangeOption.orient?e+i:e,y:"horizontal"==this.dataRangeOption.orient?t:t+n,width:"horizontal"==this.dataRangeOption.orient?0:i,height:"horizontal"==this.dataRangeOption.orient?n:0,color:"#ccc"},hoverable:!1},this._startMask=new a(this._startMask),this._endMask=new a(this._endMask),this.shapeList.push(this._startMask),this.shapeList.push(this._endMask)},_buildBackground:function(){var e=this.reformCssArray(this.dataRangeOption.padding);this.shapeList.push(new a({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-e[3],y:this._itemGroupLocation.y-e[0],width:this._itemGroupLocation.width+e[3]+e[1],height:this._itemGroupLocation.height+e[0]+e[2],brushType:0===this.dataRangeOption.borderWidth?"fill":"both",color:this.dataRangeOption.backgroundColor,strokeColor:this.dataRangeOption.borderColor,lineWidth:this.dataRangeOption.borderWidth}}))},_getItemGroupLocation:function(){var e=this._valueTextList,t=e.length,i=this.dataRangeOption.itemGap,n=this.dataRangeOption.itemWidth,a=this.dataRangeOption.itemHeight,o=0,s=0,r=this.getFont(this.dataRangeOption.textStyle),l=h.getTextHeight("国",r),d=10;if("horizontal"==this.dataRangeOption.orient){if(this.dataRangeOption.text||this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable)o=(this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable?n*d+i:t*(n+i))+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[0]?h.getTextWidth(this.dataRangeOption.text[0],r)+this._textGap:0)+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[1]?h.getTextWidth(this.dataRangeOption.text[1],r)+this._textGap:0);else{n+=5;for(var m=0;t>m;m++)o+=n+h.getTextWidth(e[m],r)+i}o-=i,s=Math.max(l,a)}else{var c;if(this.dataRangeOption.text||this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable)s=(this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable?a*d+i:t*(a+i))+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[0]?this._textGap+l:0)+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[1]?this._textGap+l:0),c=Math.max(h.getTextWidth(this.dataRangeOption.text&&this.dataRangeOption.text[0]||"",r),h.getTextWidth(this.dataRangeOption.text&&this.dataRangeOption.text[1]||"",r)),o=Math.max(n,c);else{s=(a+i)*t,n+=5,c=0;for(var m=0;t>m;m++)c=Math.max(c,h.getTextWidth(e[m],r));o=n+c}s-=i}var p,u=this.reformCssArray(this.dataRangeOption.padding),V=this.zr.getWidth();switch(this.dataRangeOption.x){case"center":p=Math.floor((V-o)/2);break;case"left":p=u[3]+this.dataRangeOption.borderWidth;break;case"right":p=V-o-u[1]-this.dataRangeOption.borderWidth;break;default:p=this.parsePercent(this.dataRangeOption.x,V),p=isNaN(p)?0:p}var U,g=this.zr.getHeight();switch(this.dataRangeOption.y){case"top":U=u[0]+this.dataRangeOption.borderWidth;break;case"bottom":U=g-s-u[2]-this.dataRangeOption.borderWidth;break;case"center":U=Math.floor((g-s)/2);break;default:U=this.parsePercent(this.dataRangeOption.y,g),U=isNaN(U)?0:U}if(this.dataRangeOption.calculable){var y=Math.max(h.getTextWidth(this.dataRangeOption.max,r),h.getTextWidth(this.dataRangeOption.min,r))+l;"horizontal"==this.dataRangeOption.orient?(y>p&&(p=y),p+o+y>V&&(p-=y)):(l>U&&(U=l),U+s+l>g&&(U-=l))}return{x:p,y:U,width:o,height:s}},_getTextShape:function(e,t,i){return{zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:"horizontal"==this.dataRangeOption.orient?e:this._itemGroupLocation.x+this._itemGroupLocation.width/2,y:"horizontal"==this.dataRangeOption.orient?this._itemGroupLocation.y+this._itemGroupLocation.height/2:t,color:this.dataRangeOption.textStyle.color,text:i,textFont:this.getFont(this.dataRangeOption.textStyle),textBaseline:"horizontal"==this.dataRangeOption.orient?"middle":"top",textAlign:"horizontal"==this.dataRangeOption.orient?"left":"center"},hoverable:!1}},_getItemShape:function(e,t,i,n,a){return{zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:e,y:t+1,width:i,height:n-2,color:a},highlightStyle:{strokeColor:a,lineWidth:1}}},__ondrift:function(e,t,i){var n=this._calculableLocation.x,a=this._calculableLocation.y,o=this._calculableLocation.width,s=this._calculableLocation.height;return"horizontal"==this.dataRangeOption.orient?e.style.x+t<=n?e.style.x=n:e.style.x+t+e.style.width>=n+o?e.style.x=n+o-e.style.width:e.style.x+=t:e.style.y+i<=a?e.style.y=a:e.style.y+i+e.style.height>=a+s?e.style.y=a+s-e.style.height:e.style.y+=i,"filler"==e._type?this._syncHandleShape():this._syncFillerShape(e),this.dataRangeOption.realtime&&this._dispatchDataRange(),!0},__ondragend:function(){this.isDragend=!0},ondragend:function(e,t){this.isDragend&&e.target&&(t.dragOut=!0,t.dragIn=!0,this.dataRangeOption.realtime||this._dispatchDataRange(),t.needRefresh=!1,this.isDragend=!1)},_syncShapeFromRange:function(){var e=this.dataRangeOption.range||{};if(this._range.end="undefined"!=typeof this._range.end?this._range.end:"undefined"!=typeof e.start?e.start:0,this._range.start="undefined"!=typeof this._range.start?this._range.start:"undefined"!=typeof e.end?e.end:100,100!=this._range.start||0!==this._range.end){if("horizontal"==this.dataRangeOption.orient){var t=this._fillerShape.style.width;this._fillerShape.style.x+=t*(100-this._range.start)/100,this._fillerShape.style.width=t*(this._range.start-this._range.end)/100}else{var i=this._fillerShape.style.height;this._fillerShape.style.y+=i*(100-this._range.start)/100,this._fillerShape.style.height=i*(this._range.start-this._range.end)/100}this.zr.modShape(this._fillerShape.id),this._syncHandleShape()}},_syncHandleShape:function(){var e=this._calculableLocation.x,t=this._calculableLocation.y,i=this._calculableLocation.width,n=this._calculableLocation.height;"horizontal"==this.dataRangeOption.orient?(this._startShape.style.x=this._fillerShape.style.x,this._startMask.style.width=this._startShape.style.x-e,this._endShape.style.x=this._fillerShape.style.x+this._fillerShape.style.width,this._endMask.style.x=this._endShape.style.x,this._endMask.style.width=e+i-this._endShape.style.x,this._range.start=Math.ceil(100-(this._startShape.style.x-e)/i*100),this._range.end=Math.floor(100-(this._endShape.style.x-e)/i*100)):(this._startShape.style.y=this._fillerShape.style.y,this._startMask.style.height=this._startShape.style.y-t,this._endShape.style.y=this._fillerShape.style.y+this._fillerShape.style.height,this._endMask.style.y=this._endShape.style.y,this._endMask.style.height=t+n-this._endShape.style.y,this._range.start=Math.ceil(100-(this._startShape.style.y-t)/n*100),this._range.end=Math.floor(100-(this._endShape.style.y-t)/n*100)),this._syncShape()},_syncFillerShape:function(e){var t,i,n=this._calculableLocation.x,a=this._calculableLocation.y,o=this._calculableLocation.width,s=this._calculableLocation.height;"horizontal"==this.dataRangeOption.orient?(t=this._startShape.style.x,i=this._endShape.style.x,e.id==this._startShape.id&&t>=i?(i=t,this._endShape.style.x=t):e.id==this._endShape.id&&t>=i&&(t=i,this._startShape.style.x=t),this._fillerShape.style.x=t,this._fillerShape.style.width=i-t,this._startMask.style.width=t-n,this._endMask.style.x=i,this._endMask.style.width=n+o-i,this._range.start=Math.ceil(100-(t-n)/o*100),this._range.end=Math.floor(100-(i-n)/o*100)):(t=this._startShape.style.y,i=this._endShape.style.y,e.id==this._startShape.id&&t>=i?(i=t,this._endShape.style.y=t):e.id==this._endShape.id&&t>=i&&(t=i,this._startShape.style.y=t),this._fillerShape.style.y=t,this._fillerShape.style.height=i-t,this._startMask.style.height=t-a,this._endMask.style.y=i,this._endMask.style.height=a+s-i,this._range.start=Math.ceil(100-(t-a)/s*100),this._range.end=Math.floor(100-(i-a)/s*100)),this._syncShape()},_syncShape:function(){this._startShape.position=[this._startShape.style.x-this._startShape.style._x,this._startShape.style.y-this._startShape.style._y],this._startShape.style.text=this._textFormat(this._gap*this._range.start+this.dataRangeOption.min),this._startShape.style.color=this._startShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.start+this.dataRangeOption.min),this._endShape.position=[this._endShape.style.x-this._endShape.style._x,this._endShape.style.y-this._endShape.style._y],this._endShape.style.text=this._textFormat(this._gap*this._range.end+this.dataRangeOption.min),this._endShape.style.color=this._endShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.end+this.dataRangeOption.min),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._startMask.id),this.zr.modShape(this._endMask.id),this.zr.modShape(this._fillerShape.id),this.zr.refreshNextFrame()},_dispatchDataRange:function(){this.messageCenter.dispatch(s.EVENT.DATA_RANGE,null,{range:{start:this._range.end,end:this._range.start}},this.myChart)},__dataRangeSelected:function(e){if("single"===this.dataRangeOption.selectedMode)for(var t in this._selectedMap)this._selectedMap[t]=!1;var i=e.target._idx;this._selectedMap[i]=!this._selectedMap[i];var n=(this._colorList.length-i)*this._gap+this.dataRangeOption.min;this.messageCenter.dispatch(s.EVENT.DATA_RANGE_SELECTED,e.event,{selected:this._selectedMap,target:i,valueMax:n,valueMin:n-this._gap},this.myChart),this.messageCenter.dispatch(s.EVENT.REFRESH,null,null,this.myChart)},__dispatchHoverLink:function(e){var t,i;if(this.dataRangeOption.calculable){var n,a=this.dataRangeOption.max-this.dataRangeOption.min;n="horizontal"==this.dataRangeOption.orient?(1-(l.getX(e.event)-this._calculableLocation.x)/this._calculableLocation.width)*a:(1-(l.getY(e.event)-this._calculableLocation.y)/this._calculableLocation.height)*a,t=n-.05*a,i=n+.05*a}else{var o=e.target._idx;i=(this._colorList.length-o)*this._gap+this.dataRangeOption.min,t=i-this._gap}this.messageCenter.dispatch(s.EVENT.DATA_RANGE_HOVERLINK,e.event,{valueMin:t,valueMax:i},this.myChart)},__onhoverlink:function(e){if(this.dataRangeOption.show&&this.dataRangeOption.hoverLink&&this._indicatorShape&&e&&null!=e.seriesIndex&&null!=e.dataIndex){var t=e.value;if(""===t||isNaN(t))return;t<this.dataRangeOption.min?t=this.dataRangeOption.min:t>this.dataRangeOption.max&&(t=this.dataRangeOption.max),this._indicatorShape.position="horizontal"==this.dataRangeOption.orient?[(this.dataRangeOption.max-t)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._calculableLocation.width,0]:[0,(this.dataRangeOption.max-t)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._calculableLocation.height],this._indicatorShape.style.text=this._textFormat(e.value),this._indicatorShape.style.color=this.getColor(t),this.zr.addHoverShape(this._indicatorShape)}},_textFormat:function(e,t){if(e=e.toFixed(this.dataRangeOption.precision),t=null!=t?t.toFixed(this.dataRangeOption.precision):"",this.dataRangeOption.formatter){if("string"==typeof this.dataRangeOption.formatter)return this.dataRangeOption.formatter.replace("{value}",e).replace("{value2}",t);if("function"==typeof this.dataRangeOption.formatter)return this.dataRangeOption.formatter.call(this.myChart,e,t)}return""!==t?e+" - "+t:e},refresh:function(e){if(e){this.option=e,this.option.dataRange=this.reformOption(this.option.dataRange),this.dataRangeOption=this.option.dataRange,this.myChart.canvasSupported||(this.dataRangeOption.realtime=!1);var t=this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable?100:this.dataRangeOption.splitNumber;if(this._colorList=d.getGradientColors(this.dataRangeOption.color,Math.max((t-this.dataRangeOption.color.length)/(this.dataRangeOption.color.length-1),0)+1),this._colorList.length>t){for(var i=this._colorList.length,n=[this._colorList[0]],a=i/(t-1),o=1;t-1>o;o++)n.push(this._colorList[Math.floor(o*a)]);n.push(this._colorList[i-1]),this._colorList=n}var s=this.dataRangeOption.precision;for(this._gap=(this.dataRangeOption.max-this.dataRangeOption.min)/t;this._gap.toFixed(s)-0!=this._gap&&5>s;)s++;this.dataRangeOption.precision=s,this._gap=((this.dataRangeOption.max-this.dataRangeOption.min)/t).toFixed(s)-0,this._valueTextList=[];for(var o=0;t>o;o++)this._selectedMap[o]=!0,this._valueTextList.unshift(this._textFormat(o*this._gap+this.dataRangeOption.min,(o+1)*this._gap+this.dataRangeOption.min))}this.clear(),this._buildShape()},getColor:function(e){if(isNaN(e))return null;if(this.dataRangeOption.min==this.dataRangeOption.max)return this._colorList[0];if(e<this.dataRangeOption.min?e=this.dataRangeOption.min:e>this.dataRangeOption.max&&(e=this.dataRangeOption.max),this.dataRangeOption.calculable&&(e-(this._gap*this._range.start+this.dataRangeOption.min)>5e-5||e-(this._gap*this._range.end+this.dataRangeOption.min)<-5e-5))return null;var t=this._colorList.length-Math.ceil((e-this.dataRangeOption.min)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._colorList.length);return t==this._colorList.length&&t--,this._selectedMap[t]?this._colorList[t]:null},getColorByIndex:function(e){return e>=this._colorList.length?e=this._colorList.length-1:0>e&&(e=0),this._colorList[e]},onbeforDispose:function(){this.messageCenter.unbind(s.EVENT.HOVER,this._onhoverlink)}},r.inherits(t,i),e("../component").define("dataRange",t),t}),define("echarts/util/shape/HandlePolygon",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util"],function(e){function t(e){i.call(this,e)}var i=e("zrender/shape/Base"),n=e("zrender/shape/Polygon"),a=e("zrender/tool/util");return t.prototype={type:"handle-polygon",buildPath:function(e,t){n.prototype.buildPath(e,t)},isCover:function(e,t){var i=this.getTansform(e,t);e=i[0],t=i[1];var n=this.style.rect;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height?!0:!1}},a.inherits(t,i),t});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwbHVnaW5zL2VjaGFydHMvY2hhcnQvc2NhdHRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoXCJlY2hhcnRzL2NoYXJ0L3NjYXR0ZXJcIixbXCJyZXF1aXJlXCIsXCIuL2Jhc2VcIixcIi4uL3V0aWwvc2hhcGUvU3ltYm9sXCIsXCIuLi9jb21wb25lbnQvYXhpc1wiLFwiLi4vY29tcG9uZW50L2dyaWRcIixcIi4uL2NvbXBvbmVudC9kYXRhWm9vbVwiLFwiLi4vY29tcG9uZW50L2RhdGFSYW5nZVwiLFwiLi4vY29uZmlnXCIsXCJ6cmVuZGVyL3Rvb2wvdXRpbFwiLFwienJlbmRlci90b29sL2NvbG9yXCIsXCIuLi9jaGFydFwiXSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuLGEsbyl7aS5jYWxsKHRoaXMsZSx0LG4sYSxvKSx0aGlzLnJlZnJlc2goYSl9dmFyIGk9ZShcIi4vYmFzZVwiKSxuPWUoXCIuLi91dGlsL3NoYXBlL1N5bWJvbFwiKTtlKFwiLi4vY29tcG9uZW50L2F4aXNcIiksZShcIi4uL2NvbXBvbmVudC9ncmlkXCIpLGUoXCIuLi9jb21wb25lbnQvZGF0YVpvb21cIiksZShcIi4uL2NvbXBvbmVudC9kYXRhUmFuZ2VcIik7dmFyIGE9ZShcIi4uL2NvbmZpZ1wiKTthLnNjYXR0ZXI9e3psZXZlbDowLHo6MixjbGlja2FibGU6ITAsbGVnZW5kSG92ZXJMaW5rOiEwLHhBeGlzSW5kZXg6MCx5QXhpc0luZGV4OjAsc3ltYm9sU2l6ZTo0LGxhcmdlOiExLGxhcmdlVGhyZXNob2xkOjJlMyxpdGVtU3R5bGU6e25vcm1hbDp7bGFiZWw6e3Nob3c6ITF9fSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITF9fX19O3ZhciBvPWUoXCJ6cmVuZGVyL3Rvb2wvdXRpbFwiKSxzPWUoXCJ6cmVuZGVyL3Rvb2wvY29sb3JcIik7cmV0dXJuIHQucHJvdG90eXBlPXt0eXBlOmEuQ0hBUlRfVFlQRV9TQ0FUVEVSLF9idWlsZFNoYXBlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXJpZXM7dGhpcy5fc0luZGV4MkNvbG9yTWFwPXt9LHRoaXMuX3N5bWJvbD10aGlzLm9wdGlvbi5zeW1ib2xMaXN0LHRoaXMuX3NJbmRleDJTaGFwZU1hcD17fSx0aGlzLnNlbGVjdGVkTWFwPXt9LHRoaXMueE1hcmtNYXA9e307Zm9yKHZhciB0LGksbixvLHI9dGhpcy5jb21wb25lbnQubGVnZW5kLGw9W10saD0wLGQ9ZS5sZW5ndGg7ZD5oO2grKylpZih0PWVbaF0saT10Lm5hbWUsdC50eXBlPT09YS5DSEFSVF9UWVBFX1NDQVRURVIpe2lmKGVbaF09dGhpcy5yZWZvcm1PcHRpb24oZVtoXSksdGhpcy5sZWdlbmRIb3Zlckxpbms9ZVtoXS5sZWdlbmRIb3Zlckxpbmt8fHRoaXMubGVnZW5kSG92ZXJMaW5rLHRoaXMuX3NJbmRleDJTaGFwZU1hcFtoXT10aGlzLnF1ZXJ5KHQsXCJzeW1ib2xcIil8fHRoaXMuX3N5bWJvbFtoJXRoaXMuX3N5bWJvbC5sZW5ndGhdLHIpe2lmKHRoaXMuc2VsZWN0ZWRNYXBbaV09ci5pc1NlbGVjdGVkKGkpLHRoaXMuX3NJbmRleDJDb2xvck1hcFtoXT1zLmFscGhhKHIuZ2V0Q29sb3IoaSksLjUpLG49ci5nZXRJdGVtU2hhcGUoaSkpe3ZhciBvPXRoaXMuX3NJbmRleDJTaGFwZU1hcFtoXTtuLnN0eWxlLmJydXNoVHlwZT1vLm1hdGNoKFwiZW1wdHlcIik/XCJzdHJva2VcIjpcImJvdGhcIixvPW8ucmVwbGFjZShcImVtcHR5XCIsXCJcIikudG9Mb3dlckNhc2UoKSxvLm1hdGNoKFwicmVjdGFuZ2xlXCIpJiYobi5zdHlsZS54Kz1NYXRoLnJvdW5kKChuLnN0eWxlLndpZHRoLW4uc3R5bGUuaGVpZ2h0KS8yKSxuLnN0eWxlLndpZHRoPW4uc3R5bGUuaGVpZ2h0KSxvLm1hdGNoKFwic3RhclwiKSYmKG4uc3R5bGUubj1vLnJlcGxhY2UoXCJzdGFyXCIsXCJcIiktMHx8NSxvPVwic3RhclwiKSxvLm1hdGNoKFwiaW1hZ2VcIikmJihuLnN0eWxlLmltYWdlPW8ucmVwbGFjZShuZXcgUmVnRXhwKFwiXmltYWdlOlxcXFwvXFxcXC9cIiksXCJcIiksbi5zdHlsZS54Kz1NYXRoLnJvdW5kKChuLnN0eWxlLndpZHRoLW4uc3R5bGUuaGVpZ2h0KS8yKSxuLnN0eWxlLndpZHRoPW4uc3R5bGUuaGVpZ2h0LG89XCJpbWFnZVwiKSxuLnN0eWxlLmljb25UeXBlPW8sci5zZXRJdGVtU2hhcGUoaSxuKX19ZWxzZSB0aGlzLnNlbGVjdGVkTWFwW2ldPSEwLHRoaXMuX3NJbmRleDJDb2xvck1hcFtoXT1zLmFscGhhKHRoaXMuenIuZ2V0Q29sb3IoaCksLjUpO3RoaXMuc2VsZWN0ZWRNYXBbaV0mJmwucHVzaChoKX10aGlzLl9idWlsZFNlcmllcyhsKSx0aGlzLmFkZFNoYXBlTGlzdCgpfSxfYnVpbGRTZXJpZXM6ZnVuY3Rpb24oZSl7aWYoMCE9PWUubGVuZ3RoKXtmb3IodmFyIHQsaSxuLGEsbyxzLHIsbCxoPXRoaXMuc2VyaWVzLGQ9e30sbT0wLGM9ZS5sZW5ndGg7Yz5tO20rKylpZih0PWVbbV0saT1oW3RdLDAhPT1pLmRhdGEubGVuZ3RoKXtvPXRoaXMuY29tcG9uZW50LnhBeGlzLmdldEF4aXMoaS54QXhpc0luZGV4fHwwKSxzPXRoaXMuY29tcG9uZW50LnlBeGlzLmdldEF4aXMoaS55QXhpc0luZGV4fHwwKSxkW3RdPVtdO2Zvcih2YXIgcD0wLHU9aS5kYXRhLmxlbmd0aDt1PnA7cCsrKW49aS5kYXRhW3BdLGE9dGhpcy5nZXREYXRhRnJvbU9wdGlvbihuLFwiLVwiKSxcIi1cIj09PWF8fGEubGVuZ3RoPDJ8fChyPW8uZ2V0Q29vcmQoYVswXSksbD1zLmdldENvb3JkKGFbMV0pLGRbdF0ucHVzaChbcixsLHAsbi5uYW1lfHxcIlwiXSkpO3RoaXMueE1hcmtNYXBbdF09dGhpcy5fbWFya01hcChvLHMsaS5kYXRhLGRbdF0pLHRoaXMuYnVpbGRNYXJrKHQpfXRoaXMuX2J1aWxkUG9pbnRMaXN0KGQpfX0sX21hcmtNYXA6ZnVuY3Rpb24oZSx0LGksbil7Zm9yKHZhciBhLG89e21pbjA6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1heDA6TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLHN1bTA6MCxjb3VudGVyMDowLGF2ZXJhZ2UwOjAsbWluMTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbWF4MTpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksc3VtMTowLGNvdW50ZXIxOjAsYXZlcmFnZTE6MH0scz0wLHI9bi5sZW5ndGg7cj5zO3MrKylhPWlbbltzXVsyXV0udmFsdWV8fGlbbltzXVsyXV0sby5taW4wPmFbMF0mJihvLm1pbjA9YVswXSxvLm1pblkwPW5bc11bMV0sby5taW5YMD1uW3NdWzBdKSxvLm1heDA8YVswXSYmKG8ubWF4MD1hWzBdLG8ubWF4WTA9bltzXVsxXSxvLm1heFgwPW5bc11bMF0pLG8uc3VtMCs9YVswXSxvLmNvdW50ZXIwKyssby5taW4xPmFbMV0mJihvLm1pbjE9YVsxXSxvLm1pblkxPW5bc11bMV0sby5taW5YMT1uW3NdWzBdKSxvLm1heDE8YVsxXSYmKG8ubWF4MT1hWzFdLG8ubWF4WTE9bltzXVsxXSxvLm1heFgxPW5bc11bMF0pLG8uc3VtMSs9YVsxXSxvLmNvdW50ZXIxKys7dmFyIGw9dGhpcy5jb21wb25lbnQuZ3JpZC5nZXRYKCksaD10aGlzLmNvbXBvbmVudC5ncmlkLmdldFhlbmQoKSxkPXRoaXMuY29tcG9uZW50LmdyaWQuZ2V0WSgpLG09dGhpcy5jb21wb25lbnQuZ3JpZC5nZXRZZW5kKCk7by5hdmVyYWdlMD1vLnN1bTAvby5jb3VudGVyMDt2YXIgYz1lLmdldENvb3JkKG8uYXZlcmFnZTApO28uYXZlcmFnZUxpbmUwPVtbYyxtXSxbYyxkXV0sby5taW5MaW5lMD1bW28ubWluWDAsbV0sW28ubWluWDAsZF1dLG8ubWF4TGluZTA9W1tvLm1heFgwLG1dLFtvLm1heFgwLGRdXSxvLmF2ZXJhZ2UxPW8uc3VtMS9vLmNvdW50ZXIxO3ZhciBwPXQuZ2V0Q29vcmQoby5hdmVyYWdlMSk7cmV0dXJuIG8uYXZlcmFnZUxpbmUxPVtbbCxwXSxbaCxwXV0sby5taW5MaW5lMT1bW2wsby5taW5ZMV0sW2gsby5taW5ZMV1dLG8ubWF4TGluZTE9W1tsLG8ubWF4WTFdLFtoLG8ubWF4WTFdXSxvfSxfYnVpbGRQb2ludExpc3Q6ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLGEsbz10aGlzLnNlcmllcztmb3IodmFyIHMgaW4gZSlpZih0PW9bc10saT1lW3NdLHQubGFyZ2UmJnQuZGF0YS5sZW5ndGg+dC5sYXJnZVRocmVzaG9sZCl0aGlzLnNoYXBlTGlzdC5wdXNoKHRoaXMuX2dldExhcmdlU3ltYm9sKGksdGhpcy5nZXRJdGVtU3R5bGVDb2xvcih0aGlzLnF1ZXJ5KHQsXCJpdGVtU3R5bGUubm9ybWFsLmNvbG9yXCIpLHMsLTEpfHx0aGlzLl9zSW5kZXgyQ29sb3JNYXBbc10pKTtlbHNlIGZvcih2YXIgcj0wLGw9aS5sZW5ndGg7bD5yO3IrKyluPWlbcl0sYT10aGlzLl9nZXRTeW1ib2wocyxuWzJdLG5bM10sblswXSxuWzFdKSxhJiZ0aGlzLnNoYXBlTGlzdC5wdXNoKGEpfSxfZ2V0U3ltYm9sOmZ1bmN0aW9uKGUsdCxpLG4sYSl7dmFyIG8scz10aGlzLnNlcmllcyxyPXNbZV0sbD1yLmRhdGFbdF0saD10aGlzLmNvbXBvbmVudC5kYXRhUmFuZ2U7aWYoaCl7aWYobz1pc05hTihsWzJdKT90aGlzLl9zSW5kZXgyQ29sb3JNYXBbZV06aC5nZXRDb2xvcihsWzJdKSwhbylyZXR1cm4gbnVsbH1lbHNlIG89dGhpcy5fc0luZGV4MkNvbG9yTWFwW2VdO3ZhciBkPXRoaXMuZ2V0U3ltYm9sU2hhcGUocixlLGwsdCxpLG4sYSx0aGlzLl9zSW5kZXgyU2hhcGVNYXBbZV0sbyxcInJnYmEoMCwwLDAsMClcIixcInZlcnRpY2FsXCIpO3JldHVybiBkLnpsZXZlbD10aGlzLmdldFpsZXZlbEJhc2UoKSxkLno9dGhpcy5nZXRaQmFzZSgpLGQuX21haW49ITAsZH0sX2dldExhcmdlU3ltYm9sOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBuKHt6bGV2ZWw6dGhpcy5nZXRabGV2ZWxCYXNlKCksejp0aGlzLmdldFpCYXNlKCksX21haW46ITAsaG92ZXJhYmxlOiExLHN0eWxlOntwb2ludExpc3Q6ZSxjb2xvcjp0LHN0cm9rZUNvbG9yOnR9LGhpZ2hsaWdodFN0eWxlOntwb2ludExpc3Q6W119fSl9LGdldE1hcmtDb29yZDpmdW5jdGlvbihlLHQpe3ZhciBpLG49dGhpcy5zZXJpZXNbZV0sYT10aGlzLnhNYXJrTWFwW2VdLG89dGhpcy5jb21wb25lbnQueEF4aXMuZ2V0QXhpcyhuLnhBeGlzSW5kZXgpLHM9dGhpcy5jb21wb25lbnQueUF4aXMuZ2V0QXhpcyhuLnlBeGlzSW5kZXgpO2lmKCF0LnR5cGV8fFwibWF4XCIhPT10LnR5cGUmJlwibWluXCIhPT10LnR5cGUmJlwiYXZlcmFnZVwiIT09dC50eXBlKWk9W1wic3RyaW5nXCIhPXR5cGVvZiB0LnhBeGlzJiZvLmdldENvb3JkQnlJbmRleD9vLmdldENvb3JkQnlJbmRleCh0LnhBeGlzfHwwKTpvLmdldENvb3JkKHQueEF4aXN8fDApLFwic3RyaW5nXCIhPXR5cGVvZiB0LnlBeGlzJiZzLmdldENvb3JkQnlJbmRleD9zLmdldENvb3JkQnlJbmRleCh0LnlBeGlzfHwwKTpzLmdldENvb3JkKHQueUF4aXN8fDApXTtlbHNle3ZhciByPW51bGwhPXQudmFsdWVJbmRleD90LnZhbHVlSW5kZXg6MTtpPVthW3QudHlwZStcIlhcIityXSxhW3QudHlwZStcIllcIityXSxhW3QudHlwZStcIkxpbmVcIityXSxhW3QudHlwZStyXV19cmV0dXJuIGl9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMub3B0aW9uPWUsdGhpcy5zZXJpZXM9ZS5zZXJpZXMpLHRoaXMuYmFja3VwU2hhcGVMaXN0KCksdGhpcy5fYnVpbGRTaGFwZSgpfSxvbmRhdGFSYW5nZTpmdW5jdGlvbihlLHQpe3RoaXMuY29tcG9uZW50LmRhdGFSYW5nZSYmKHRoaXMucmVmcmVzaCgpLHQubmVlZFJlZnJlc2g9ITApfX0sby5pbmhlcml0cyh0LGkpLGUoXCIuLi9jaGFydFwiKS5kZWZpbmUoXCJzY2F0dGVyXCIsdCksdH0pLGRlZmluZShcImVjaGFydHMvY29tcG9uZW50L2RhdGFSYW5nZVwiLFtcInJlcXVpcmVcIixcIi4vYmFzZVwiLFwienJlbmRlci9zaGFwZS9UZXh0XCIsXCJ6cmVuZGVyL3NoYXBlL1JlY3RhbmdsZVwiLFwiLi4vdXRpbC9zaGFwZS9IYW5kbGVQb2x5Z29uXCIsXCIuLi9jb25maWdcIixcInpyZW5kZXIvdG9vbC91dGlsXCIsXCJ6cmVuZGVyL3Rvb2wvZXZlbnRcIixcInpyZW5kZXIvdG9vbC9hcmVhXCIsXCJ6cmVuZGVyL3Rvb2wvY29sb3JcIixcIi4uL2NvbXBvbmVudFwiXSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuLGEsbyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMucXVlcnkoYSxcImRhdGFSYW5nZS5taW5cIil8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnF1ZXJ5KGEsXCJkYXRhUmFuZ2UubWF4XCIpKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJvcHRpb24uZGF0YVJhbmdlLm1pbiBvciBvcHRpb24uZGF0YVJhbmdlLm1heCBoYXMgbm90IGJlZW4gZGVmaW5lZC5cIik7aS5jYWxsKHRoaXMsZSx0LG4sYSxvKTt2YXIgcj10aGlzO3IuX29uZHJpZnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5fX29uZHJpZnQodGhpcyxlLHQpfSxyLl9vbmRyYWdlbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gci5fX29uZHJhZ2VuZCgpfSxyLl9kYXRhUmFuZ2VTZWxlY3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gci5fX2RhdGFSYW5nZVNlbGVjdGVkKGUpfSxyLl9kaXNwYXRjaEhvdmVyTGluaz1mdW5jdGlvbihlKXtyZXR1cm4gci5fX2Rpc3BhdGNoSG92ZXJMaW5rKGUpfSxyLl9vbmhvdmVybGluaz1mdW5jdGlvbihlKXtyZXR1cm4gci5fX29uaG92ZXJsaW5rKGUpfSx0aGlzLl9zZWxlY3RlZE1hcD17fSx0aGlzLl9yYW5nZT17fSx0aGlzLnJlZnJlc2goYSksdC5iaW5kKHMuRVZFTlQuSE9WRVIsdGhpcy5fb25ob3ZlcmxpbmspfXZhciBpPWUoXCIuL2Jhc2VcIiksbj1lKFwienJlbmRlci9zaGFwZS9UZXh0XCIpLGE9ZShcInpyZW5kZXIvc2hhcGUvUmVjdGFuZ2xlXCIpLG89ZShcIi4uL3V0aWwvc2hhcGUvSGFuZGxlUG9seWdvblwiKSxzPWUoXCIuLi9jb25maWdcIik7cy5kYXRhUmFuZ2U9e3psZXZlbDowLHo6NCxzaG93OiEwLG9yaWVudDpcInZlcnRpY2FsXCIseDpcImxlZnRcIix5OlwiYm90dG9tXCIsYmFja2dyb3VuZENvbG9yOlwicmdiYSgwLDAsMCwwKVwiLGJvcmRlckNvbG9yOlwiI2NjY1wiLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGl0ZW1HYXA6MTAsaXRlbVdpZHRoOjIwLGl0ZW1IZWlnaHQ6MTQscHJlY2lzaW9uOjAsc3BsaXROdW1iZXI6NSxjYWxjdWxhYmxlOiExLHNlbGVjdGVkTW9kZTohMCxob3Zlckxpbms6ITAscmVhbHRpbWU6ITAsY29sb3I6W1wiIzAwNmVkZFwiLFwiI2UwZmZmZlwiXSx0ZXh0U3R5bGU6e2NvbG9yOlwiIzMzM1wifX07dmFyIHI9ZShcInpyZW5kZXIvdG9vbC91dGlsXCIpLGw9ZShcInpyZW5kZXIvdG9vbC9ldmVudFwiKSxoPWUoXCJ6cmVuZGVyL3Rvb2wvYXJlYVwiKSxkPWUoXCJ6cmVuZGVyL3Rvb2wvY29sb3JcIik7cmV0dXJuIHQucHJvdG90eXBlPXt0eXBlOnMuQ09NUE9ORU5UX1RZUEVfREFUQVJBTkdFLF90ZXh0R2FwOjEwLF9idWlsZFNoYXBlOmZ1bmN0aW9uKCl7aWYodGhpcy5faXRlbUdyb3VwTG9jYXRpb249dGhpcy5fZ2V0SXRlbUdyb3VwTG9jYXRpb24oKSx0aGlzLl9idWlsZEJhY2tncm91bmQoKSx0aGlzLmRhdGFSYW5nZU9wdGlvbi5zcGxpdE51bWJlcjw9MHx8dGhpcy5kYXRhUmFuZ2VPcHRpb24uY2FsY3VsYWJsZT90aGlzLl9idWlsZEdyYWRpZW50KCk6dGhpcy5fYnVpbGRJdGVtKCksdGhpcy5kYXRhUmFuZ2VPcHRpb24uc2hvdylmb3IodmFyIGU9MCx0PXRoaXMuc2hhcGVMaXN0Lmxlbmd0aDt0PmU7ZSsrKXRoaXMuenIuYWRkU2hhcGUodGhpcy5zaGFwZUxpc3RbZV0pO3RoaXMuX3N5bmNTaGFwZUZyb21SYW5nZSgpfSxfYnVpbGRJdGVtOmZ1bmN0aW9uKCl7dmFyIGUsdCxpLG8scz10aGlzLl92YWx1ZVRleHRMaXN0LHI9cy5sZW5ndGgsbD10aGlzLmdldEZvbnQodGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFN0eWxlKSxkPXRoaXMuX2l0ZW1Hcm91cExvY2F0aW9uLngsbT10aGlzLl9pdGVtR3JvdXBMb2NhdGlvbi55LGM9dGhpcy5kYXRhUmFuZ2VPcHRpb24uaXRlbVdpZHRoLHA9dGhpcy5kYXRhUmFuZ2VPcHRpb24uaXRlbUhlaWdodCx1PXRoaXMuZGF0YVJhbmdlT3B0aW9uLml0ZW1HYXAsVj1oLmdldFRleHRIZWlnaHQoXCLlm71cIixsKTtcInZlcnRpY2FsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudCYmXCJyaWdodFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi54JiYoZD10aGlzLl9pdGVtR3JvdXBMb2NhdGlvbi54K3RoaXMuX2l0ZW1Hcm91cExvY2F0aW9uLndpZHRoLWMpO3ZhciBVPSEwO3RoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHQmJihVPSExLHRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHRbMF0mJihpPXRoaXMuX2dldFRleHRTaGFwZShkLG0sdGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFswXSksXCJob3Jpem9udGFsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudD9kKz1oLmdldFRleHRXaWR0aCh0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0WzBdLGwpK3RoaXMuX3RleHRHYXA6KG0rPVYrdGhpcy5fdGV4dEdhcCxpLnN0eWxlLnkrPVYvMit0aGlzLl90ZXh0R2FwLGkuc3R5bGUudGV4dEJhc2VsaW5lPVwiYm90dG9tXCIpLHRoaXMuc2hhcGVMaXN0LnB1c2gobmV3IG4oaSkpKSk7Zm9yKHZhciBnPTA7cj5nO2crKyllPXNbZ10sbz10aGlzLmdldENvbG9yQnlJbmRleChnKSx0PXRoaXMuX2dldEl0ZW1TaGFwZShkLG0sYyxwLHRoaXMuX3NlbGVjdGVkTWFwW2ddP286XCIjY2NjXCIpLHQuX2lkeD1nLHQub25tb3VzZW1vdmU9dGhpcy5fZGlzcGF0Y2hIb3ZlckxpbmssdGhpcy5kYXRhUmFuZ2VPcHRpb24uc2VsZWN0ZWRNb2RlJiYodC5jbGlja2FibGU9ITAsdC5vbmNsaWNrPXRoaXMuX2RhdGFSYW5nZVNlbGVjdGVkKSx0aGlzLnNoYXBlTGlzdC5wdXNoKG5ldyBhKHQpKSxVJiYoaT17emxldmVsOnRoaXMuZ2V0WmxldmVsQmFzZSgpLHo6dGhpcy5nZXRaQmFzZSgpLHN0eWxlOnt4OmQrYys1LHk6bSxjb2xvcjp0aGlzLl9zZWxlY3RlZE1hcFtnXT90aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0U3R5bGUuY29sb3I6XCIjY2NjXCIsdGV4dDpzW2ddLHRleHRGb250OmwsdGV4dEJhc2VsaW5lOlwidG9wXCJ9LGhpZ2hsaWdodFN0eWxlOnticnVzaFR5cGU6XCJmaWxsXCJ9fSxcInZlcnRpY2FsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudCYmXCJyaWdodFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi54JiYoaS5zdHlsZS54LT1jKzEwLGkuc3R5bGUudGV4dEFsaWduPVwicmlnaHRcIiksaS5faWR4PWcsaS5vbm1vdXNlbW92ZT10aGlzLl9kaXNwYXRjaEhvdmVyTGluayx0aGlzLmRhdGFSYW5nZU9wdGlvbi5zZWxlY3RlZE1vZGUmJihpLmNsaWNrYWJsZT0hMCxpLm9uY2xpY2s9dGhpcy5fZGF0YVJhbmdlU2VsZWN0ZWQpLHRoaXMuc2hhcGVMaXN0LnB1c2gobmV3IG4oaSkpKSxcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50P2QrPWMrKFU/NTowKSsoVT9oLmdldFRleHRXaWR0aChlLGwpOjApK3U6bSs9cCt1OyFVJiZ0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0WzFdJiYoXCJob3Jpem9udGFsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudD9kPWQtdSt0aGlzLl90ZXh0R2FwOm09bS11K3RoaXMuX3RleHRHYXAsaT10aGlzLl9nZXRUZXh0U2hhcGUoZCxtLHRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHRbMV0pLFwiaG9yaXpvbnRhbFwiIT10aGlzLmRhdGFSYW5nZU9wdGlvbi5vcmllbnQmJihpLnN0eWxlLnktPTUsaS5zdHlsZS50ZXh0QmFzZWxpbmU9XCJ0b3BcIiksdGhpcy5zaGFwZUxpc3QucHVzaChuZXcgbihpKSkpfSxfYnVpbGRHcmFkaWVudDpmdW5jdGlvbigpe3ZhciB0LGksbz10aGlzLmdldEZvbnQodGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFN0eWxlKSxzPXRoaXMuX2l0ZW1Hcm91cExvY2F0aW9uLngscj10aGlzLl9pdGVtR3JvdXBMb2NhdGlvbi55LGw9dGhpcy5kYXRhUmFuZ2VPcHRpb24uaXRlbVdpZHRoLGQ9dGhpcy5kYXRhUmFuZ2VPcHRpb24uaXRlbUhlaWdodCxtPWguZ2V0VGV4dEhlaWdodChcIuWbvVwiLG8pLGM9MTAscD0hMDt0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0JiYocD0hMSx0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0WzBdJiYoaT10aGlzLl9nZXRUZXh0U2hhcGUocyxyLHRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHRbMF0pLFwiaG9yaXpvbnRhbFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi5vcmllbnQ/cys9aC5nZXRUZXh0V2lkdGgodGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFswXSxvKSt0aGlzLl90ZXh0R2FwOihyKz1tK3RoaXMuX3RleHRHYXAsaS5zdHlsZS55Kz1tLzIrdGhpcy5fdGV4dEdhcCxpLnN0eWxlLnRleHRCYXNlbGluZT1cImJvdHRvbVwiKSx0aGlzLnNoYXBlTGlzdC5wdXNoKG5ldyBuKGkpKSkpO2Zvcih2YXIgdT1lKFwienJlbmRlci90b29sL2NvbG9yXCIpLFY9MS8odGhpcy5kYXRhUmFuZ2VPcHRpb24uY29sb3IubGVuZ3RoLTEpLFU9W10sZz0wLHk9dGhpcy5kYXRhUmFuZ2VPcHRpb24uY29sb3IubGVuZ3RoO3k+ZztnKyspVS5wdXNoKFtnKlYsdGhpcy5kYXRhUmFuZ2VPcHRpb24uY29sb3JbZ11dKTtcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50Pyh0PXt6bGV2ZWw6dGhpcy5nZXRabGV2ZWxCYXNlKCksejp0aGlzLmdldFpCYXNlKCksc3R5bGU6e3g6cyx5OnIsd2lkdGg6bCpjLGhlaWdodDpkLGNvbG9yOnUuZ2V0TGluZWFyR3JhZGllbnQocyxyLHMrbCpjLHIsVSl9LGhvdmVyYWJsZTohMX0scys9bCpjK3RoaXMuX3RleHRHYXApOih0PXt6bGV2ZWw6dGhpcy5nZXRabGV2ZWxCYXNlKCksejp0aGlzLmdldFpCYXNlKCksc3R5bGU6e3g6cyx5OnIsd2lkdGg6bCxoZWlnaHQ6ZCpjLGNvbG9yOnUuZ2V0TGluZWFyR3JhZGllbnQocyxyLHMscitkKmMsVSl9LGhvdmVyYWJsZTohMX0scis9ZCpjK3RoaXMuX3RleHRHYXApLHRoaXMuc2hhcGVMaXN0LnB1c2gobmV3IGEodCkpLHRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbj10LnN0eWxlLHRoaXMuZGF0YVJhbmdlT3B0aW9uLmNhbGN1bGFibGUmJih0aGlzLl9idWlsZEZpbGxlcigpLHRoaXMuX2J1bGlkTWFzaygpLHRoaXMuX2J1bGlkSGFuZGxlKCkpLHRoaXMuX2J1aWxkSW5kaWNhdG9yKCksIXAmJnRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHRbMV0mJihpPXRoaXMuX2dldFRleHRTaGFwZShzLHIsdGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFsxXSksdGhpcy5zaGFwZUxpc3QucHVzaChuZXcgbihpKSkpfSxfYnVpbGRJbmRpY2F0b3I6ZnVuY3Rpb24oKXt2YXIgZSx0LGk9dGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLngsbj10aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24ueSxhPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi53aWR0aCxzPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi5oZWlnaHQscj01O1wiaG9yaXpvbnRhbFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi5vcmllbnQ/XCJib3R0b21cIiE9dGhpcy5kYXRhUmFuZ2VPcHRpb24ueT8oZT1bW2ksbitzXSxbaS1yLG4rcytyXSxbaStyLG4rcytyXV0sdD1cImJvdHRvbVwiKTooZT1bW2ksbl0sW2ktcixuLXJdLFtpK3Isbi1yXV0sdD1cInRvcFwiKTpcInJpZ2h0XCIhPXRoaXMuZGF0YVJhbmdlT3B0aW9uLng/KGU9W1tpK2Esbl0sW2krYStyLG4tcl0sW2krYStyLG4rcl1dLHQ9XCJyaWdodFwiKTooZT1bW2ksbl0sW2ktcixuLXJdLFtpLXIsbityXV0sdD1cImxlZnRcIiksdGhpcy5faW5kaWNhdG9yU2hhcGU9e3N0eWxlOntwb2ludExpc3Q6ZSxjb2xvcjpcIiNmZmZcIixfX3JlY3Q6e3g6TWF0aC5taW4oZVswXVswXSxlWzFdWzBdKSx5Ok1hdGgubWluKGVbMF1bMV0sZVsxXVsxXSksd2lkdGg6ciooXCJob3Jpem9udGFsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudD8yOjEpLGhlaWdodDpyKihcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50PzE6Mil9fSxoaWdobGlnaHRTdHlsZTp7YnJ1c2hUeXBlOlwiZmlsbFwiLHRleHRQb3NpdGlvbjp0LHRleHRDb2xvcjp0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0U3R5bGUuY29sb3J9LGhvdmVyYWJsZTohMX0sdGhpcy5faW5kaWNhdG9yU2hhcGU9bmV3IG8odGhpcy5faW5kaWNhdG9yU2hhcGUpfSxfYnVpbGRGaWxsZXI6ZnVuY3Rpb24oKXt0aGlzLl9maWxsZXJTaGFwZT17emxldmVsOnRoaXMuZ2V0WmxldmVsQmFzZSgpLHo6dGhpcy5nZXRaQmFzZSgpKzEsc3R5bGU6e3g6dGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLngseTp0aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24ueSx3aWR0aDp0aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24ud2lkdGgsaGVpZ2h0OnRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi5oZWlnaHQsY29sb3I6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCJ9LGhpZ2hsaWdodFN0eWxlOntzdHJva2VDb2xvcjpcInJnYmEoMjU1LDI1NSwyNTUsMC41KVwiLGxpbmVXaWR0aDoxfSxkcmFnZ2FibGU6ITAsb25kcmlmdDp0aGlzLl9vbmRyaWZ0LG9uZHJhZ2VuZDp0aGlzLl9vbmRyYWdlbmQsb25tb3VzZW1vdmU6dGhpcy5fZGlzcGF0Y2hIb3ZlckxpbmssX3R5cGU6XCJmaWxsZXJcIn0sdGhpcy5fZmlsbGVyU2hhcGU9bmV3IGEodGhpcy5fZmlsbGVyU2hhcGUpLHRoaXMuc2hhcGVMaXN0LnB1c2godGhpcy5fZmlsbGVyU2hhcGUpfSxfYnVsaWRIYW5kbGU6ZnVuY3Rpb24oKXt2YXIgZSx0LGksbixhLHMscixsLGQ9dGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLngsbT10aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24ueSxjPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi53aWR0aCxwPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi5oZWlnaHQsdT10aGlzLmdldEZvbnQodGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFN0eWxlKSxWPWguZ2V0VGV4dEhlaWdodChcIuWbvVwiLHUpLFU9TWF0aC5tYXgoaC5nZXRUZXh0V2lkdGgodGhpcy5fdGV4dEZvcm1hdCh0aGlzLmRhdGFSYW5nZU9wdGlvbi5tYXgpLHUpLGguZ2V0VGV4dFdpZHRoKHRoaXMuX3RleHRGb3JtYXQodGhpcy5kYXRhUmFuZ2VPcHRpb24ubWluKSx1KSkrMjtcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50P1wiYm90dG9tXCIhPXRoaXMuZGF0YVJhbmdlT3B0aW9uLnk/KGU9W1tkLG1dLFtkLG0rcCtWXSxbZC1WLG0rcCtWXSxbZC0xLG0rcF0sW2QtMSxtXV0sdD1kLVUvMi1WLGk9bStwK1YvMisyLG49e3g6ZC1VLVYseTptK3Asd2lkdGg6VStWLGhlaWdodDpWfSxhPVtbZCtjLG1dLFtkK2MsbStwK1ZdLFtkK2MrVixtK3ArVl0sW2QrYysxLG0rcF0sW2QrYysxLG1dXSxzPWQrYytVLzIrVixyPWksbD17eDpkK2MseTptK3Asd2lkdGg6VStWLGhlaWdodDpWfSk6KGU9W1tkLG0rcF0sW2QsbS1WXSxbZC1WLG0tVl0sW2QtMSxtXSxbZC0xLG0rcF1dLHQ9ZC1VLzItVixpPW0tVi8yLTIsbj17eDpkLVUtVix5Om0tVix3aWR0aDpVK1YsaGVpZ2h0OlZ9LGE9W1tkK2MsbStwXSxbZCtjLG0tVl0sW2QrYytWLG0tVl0sW2QrYysxLG1dLFtkK2MrMSxtK3BdXSxzPWQrYytVLzIrVixyPWksbD17eDpkK2MseTptLVYsd2lkdGg6VStWLGhlaWdodDpWfSk6KFUrPVYsXCJyaWdodFwiIT10aGlzLmRhdGFSYW5nZU9wdGlvbi54PyhlPVtbZCxtXSxbZCtjK1YsbV0sW2QrYytWLG0tVl0sW2QrYyxtLTFdLFtkLG0tMV1dLHQ9ZCtjK1UvMitWLzIsaT1tLVYvMixuPXt4OmQrYyx5Om0tVix3aWR0aDpVK1YsaGVpZ2h0OlZ9LGE9W1tkLG0rcF0sW2QrYytWLG0rcF0sW2QrYytWLG0rVitwXSxbZCtjLG0rMStwXSxbZCxtK3ArMV1dLHM9dCxyPW0rcCtWLzIsbD17eDpkK2MseTptK3Asd2lkdGg6VStWLGhlaWdodDpWfSk6KGU9W1tkK2MsbV0sW2QtVixtXSxbZC1WLG0tVl0sW2QsbS0xXSxbZCtjLG0tMV1dLHQ9ZC1VLzItVi8yLGk9bS1WLzIsbj17eDpkLVUtVix5Om0tVix3aWR0aDpVK1YsaGVpZ2h0OlZ9LGE9W1tkK2MsbStwXSxbZC1WLG0rcF0sW2QtVixtK1YrcF0sW2QsbSsxK3BdLFtkK2MsbStwKzFdXSxzPXQscj1tK3ArVi8yLGw9e3g6ZC1VLVYseTptK3Asd2lkdGg6VStWLGhlaWdodDpWfSkpLHRoaXMuX3N0YXJ0U2hhcGU9e3N0eWxlOntwb2ludExpc3Q6ZSx0ZXh0OnRoaXMuX3RleHRGb3JtYXQodGhpcy5kYXRhUmFuZ2VPcHRpb24ubWF4KSx0ZXh0WDp0LHRleHRZOmksdGV4dEZvbnQ6dSxjb2xvcjp0aGlzLmdldENvbG9yKHRoaXMuZGF0YVJhbmdlT3B0aW9uLm1heCkscmVjdDpuLHg6ZVswXVswXSx5OmVbMF1bMV0sX3g6ZVswXVswXSxfeTplWzBdWzFdfX0sdGhpcy5fc3RhcnRTaGFwZS5oaWdobGlnaHRTdHlsZT17c3Ryb2tlQ29sb3I6dGhpcy5fc3RhcnRTaGFwZS5zdHlsZS5jb2xvcixsaW5lV2lkdGg6MX0sdGhpcy5fZW5kU2hhcGU9e3N0eWxlOntwb2ludExpc3Q6YSx0ZXh0OnRoaXMuX3RleHRGb3JtYXQodGhpcy5kYXRhUmFuZ2VPcHRpb24ubWluKSx0ZXh0WDpzLHRleHRZOnIsdGV4dEZvbnQ6dSxjb2xvcjp0aGlzLmdldENvbG9yKHRoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbikscmVjdDpsLHg6YVswXVswXSx5OmFbMF1bMV0sX3g6YVswXVswXSxfeTphWzBdWzFdfX0sdGhpcy5fZW5kU2hhcGUuaGlnaGxpZ2h0U3R5bGU9e3N0cm9rZUNvbG9yOnRoaXMuX2VuZFNoYXBlLnN0eWxlLmNvbG9yLGxpbmVXaWR0aDoxfSx0aGlzLl9zdGFydFNoYXBlLnpsZXZlbD10aGlzLl9lbmRTaGFwZS56bGV2ZWw9dGhpcy5nZXRabGV2ZWxCYXNlKCksdGhpcy5fc3RhcnRTaGFwZS56PXRoaXMuX2VuZFNoYXBlLno9dGhpcy5nZXRaQmFzZSgpKzEsdGhpcy5fc3RhcnRTaGFwZS5kcmFnZ2FibGU9dGhpcy5fZW5kU2hhcGUuZHJhZ2dhYmxlPSEwLHRoaXMuX3N0YXJ0U2hhcGUub25kcmlmdD10aGlzLl9lbmRTaGFwZS5vbmRyaWZ0PXRoaXMuX29uZHJpZnQsdGhpcy5fc3RhcnRTaGFwZS5vbmRyYWdlbmQ9dGhpcy5fZW5kU2hhcGUub25kcmFnZW5kPXRoaXMuX29uZHJhZ2VuZCx0aGlzLl9zdGFydFNoYXBlLnN0eWxlLnRleHRDb2xvcj10aGlzLl9lbmRTaGFwZS5zdHlsZS50ZXh0Q29sb3I9dGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFN0eWxlLmNvbG9yLHRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUudGV4dEFsaWduPXRoaXMuX2VuZFNoYXBlLnN0eWxlLnRleHRBbGlnbj1cImNlbnRlclwiLHRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUudGV4dFBvc2l0aW9uPXRoaXMuX2VuZFNoYXBlLnN0eWxlLnRleHRQb3NpdGlvbj1cInNwZWNpZmljXCIsdGhpcy5fc3RhcnRTaGFwZS5zdHlsZS50ZXh0QmFzZWxpbmU9dGhpcy5fZW5kU2hhcGUuc3R5bGUudGV4dEJhc2VsaW5lPVwibWlkZGxlXCIsdGhpcy5fc3RhcnRTaGFwZS5zdHlsZS53aWR0aD10aGlzLl9lbmRTaGFwZS5zdHlsZS53aWR0aD0wLHRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUuaGVpZ2h0PXRoaXMuX2VuZFNoYXBlLnN0eWxlLmhlaWdodD0wLHRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUudGV4dFBvc2l0aW9uPXRoaXMuX2VuZFNoYXBlLnN0eWxlLnRleHRQb3NpdGlvbj1cInNwZWNpZmljXCIsdGhpcy5fc3RhcnRTaGFwZT1uZXcgbyh0aGlzLl9zdGFydFNoYXBlKSx0aGlzLl9lbmRTaGFwZT1uZXcgbyh0aGlzLl9lbmRTaGFwZSksdGhpcy5zaGFwZUxpc3QucHVzaCh0aGlzLl9zdGFydFNoYXBlKSx0aGlzLnNoYXBlTGlzdC5wdXNoKHRoaXMuX2VuZFNoYXBlKX0sX2J1bGlkTWFzazpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi54LHQ9dGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLnksaT10aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24ud2lkdGgsbj10aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24uaGVpZ2h0O3RoaXMuX3N0YXJ0TWFzaz17emxldmVsOnRoaXMuZ2V0WmxldmVsQmFzZSgpLHo6dGhpcy5nZXRaQmFzZSgpKzEsc3R5bGU6e3g6ZSx5OnQsd2lkdGg6XCJob3Jpem9udGFsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudD8wOmksaGVpZ2h0OlwiaG9yaXpvbnRhbFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi5vcmllbnQ/bjowLGNvbG9yOlwiI2NjY1wifSxob3ZlcmFibGU6ITF9LHRoaXMuX2VuZE1hc2s9e3psZXZlbDp0aGlzLmdldFpsZXZlbEJhc2UoKSx6OnRoaXMuZ2V0WkJhc2UoKSsxLHN0eWxlOnt4OlwiaG9yaXpvbnRhbFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi5vcmllbnQ/ZStpOmUseTpcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50P3Q6dCtuLHdpZHRoOlwiaG9yaXpvbnRhbFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi5vcmllbnQ/MDppLGhlaWdodDpcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50P246MCxjb2xvcjpcIiNjY2NcIn0saG92ZXJhYmxlOiExfSx0aGlzLl9zdGFydE1hc2s9bmV3IGEodGhpcy5fc3RhcnRNYXNrKSx0aGlzLl9lbmRNYXNrPW5ldyBhKHRoaXMuX2VuZE1hc2spLHRoaXMuc2hhcGVMaXN0LnB1c2godGhpcy5fc3RhcnRNYXNrKSx0aGlzLnNoYXBlTGlzdC5wdXNoKHRoaXMuX2VuZE1hc2spfSxfYnVpbGRCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWZvcm1Dc3NBcnJheSh0aGlzLmRhdGFSYW5nZU9wdGlvbi5wYWRkaW5nKTt0aGlzLnNoYXBlTGlzdC5wdXNoKG5ldyBhKHt6bGV2ZWw6dGhpcy5nZXRabGV2ZWxCYXNlKCksejp0aGlzLmdldFpCYXNlKCksaG92ZXJhYmxlOiExLHN0eWxlOnt4OnRoaXMuX2l0ZW1Hcm91cExvY2F0aW9uLngtZVszXSx5OnRoaXMuX2l0ZW1Hcm91cExvY2F0aW9uLnktZVswXSx3aWR0aDp0aGlzLl9pdGVtR3JvdXBMb2NhdGlvbi53aWR0aCtlWzNdK2VbMV0saGVpZ2h0OnRoaXMuX2l0ZW1Hcm91cExvY2F0aW9uLmhlaWdodCtlWzBdK2VbMl0sYnJ1c2hUeXBlOjA9PT10aGlzLmRhdGFSYW5nZU9wdGlvbi5ib3JkZXJXaWR0aD9cImZpbGxcIjpcImJvdGhcIixjb2xvcjp0aGlzLmRhdGFSYW5nZU9wdGlvbi5iYWNrZ3JvdW5kQ29sb3Isc3Ryb2tlQ29sb3I6dGhpcy5kYXRhUmFuZ2VPcHRpb24uYm9yZGVyQ29sb3IsbGluZVdpZHRoOnRoaXMuZGF0YVJhbmdlT3B0aW9uLmJvcmRlcldpZHRofX0pKX0sX2dldEl0ZW1Hcm91cExvY2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdmFsdWVUZXh0TGlzdCx0PWUubGVuZ3RoLGk9dGhpcy5kYXRhUmFuZ2VPcHRpb24uaXRlbUdhcCxuPXRoaXMuZGF0YVJhbmdlT3B0aW9uLml0ZW1XaWR0aCxhPXRoaXMuZGF0YVJhbmdlT3B0aW9uLml0ZW1IZWlnaHQsbz0wLHM9MCxyPXRoaXMuZ2V0Rm9udCh0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0U3R5bGUpLGw9aC5nZXRUZXh0SGVpZ2h0KFwi5Zu9XCIsciksZD0xMDtpZihcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50KXtpZih0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0fHx0aGlzLmRhdGFSYW5nZU9wdGlvbi5zcGxpdE51bWJlcjw9MHx8dGhpcy5kYXRhUmFuZ2VPcHRpb24uY2FsY3VsYWJsZSlvPSh0aGlzLmRhdGFSYW5nZU9wdGlvbi5zcGxpdE51bWJlcjw9MHx8dGhpcy5kYXRhUmFuZ2VPcHRpb24uY2FsY3VsYWJsZT9uKmQraTp0KihuK2kpKSsodGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHRbMF0/aC5nZXRUZXh0V2lkdGgodGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFswXSxyKSt0aGlzLl90ZXh0R2FwOjApKyh0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFsxXT9oLmdldFRleHRXaWR0aCh0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0WzFdLHIpK3RoaXMuX3RleHRHYXA6MCk7ZWxzZXtuKz01O2Zvcih2YXIgbT0wO3Q+bTttKyspbys9bitoLmdldFRleHRXaWR0aChlW21dLHIpK2l9by09aSxzPU1hdGgubWF4KGwsYSl9ZWxzZXt2YXIgYztpZih0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0fHx0aGlzLmRhdGFSYW5nZU9wdGlvbi5zcGxpdE51bWJlcjw9MHx8dGhpcy5kYXRhUmFuZ2VPcHRpb24uY2FsY3VsYWJsZSlzPSh0aGlzLmRhdGFSYW5nZU9wdGlvbi5zcGxpdE51bWJlcjw9MHx8dGhpcy5kYXRhUmFuZ2VPcHRpb24uY2FsY3VsYWJsZT9hKmQraTp0KihhK2kpKSsodGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHRbMF0/dGhpcy5fdGV4dEdhcCtsOjApKyh0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5kYXRhUmFuZ2VPcHRpb24udGV4dFsxXT90aGlzLl90ZXh0R2FwK2w6MCksYz1NYXRoLm1heChoLmdldFRleHRXaWR0aCh0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0JiZ0aGlzLmRhdGFSYW5nZU9wdGlvbi50ZXh0WzBdfHxcIlwiLHIpLGguZ2V0VGV4dFdpZHRoKHRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHQmJnRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHRbMV18fFwiXCIscikpLG89TWF0aC5tYXgobixjKTtlbHNle3M9KGEraSkqdCxuKz01LGM9MDtmb3IodmFyIG09MDt0Pm07bSsrKWM9TWF0aC5tYXgoYyxoLmdldFRleHRXaWR0aChlW21dLHIpKTtvPW4rY31zLT1pfXZhciBwLHU9dGhpcy5yZWZvcm1Dc3NBcnJheSh0aGlzLmRhdGFSYW5nZU9wdGlvbi5wYWRkaW5nKSxWPXRoaXMuenIuZ2V0V2lkdGgoKTtzd2l0Y2godGhpcy5kYXRhUmFuZ2VPcHRpb24ueCl7Y2FzZVwiY2VudGVyXCI6cD1NYXRoLmZsb29yKChWLW8pLzIpO2JyZWFrO2Nhc2VcImxlZnRcIjpwPXVbM10rdGhpcy5kYXRhUmFuZ2VPcHRpb24uYm9yZGVyV2lkdGg7YnJlYWs7Y2FzZVwicmlnaHRcIjpwPVYtby11WzFdLXRoaXMuZGF0YVJhbmdlT3B0aW9uLmJvcmRlcldpZHRoO2JyZWFrO2RlZmF1bHQ6cD10aGlzLnBhcnNlUGVyY2VudCh0aGlzLmRhdGFSYW5nZU9wdGlvbi54LFYpLHA9aXNOYU4ocCk/MDpwfXZhciBVLGc9dGhpcy56ci5nZXRIZWlnaHQoKTtzd2l0Y2godGhpcy5kYXRhUmFuZ2VPcHRpb24ueSl7Y2FzZVwidG9wXCI6VT11WzBdK3RoaXMuZGF0YVJhbmdlT3B0aW9uLmJvcmRlcldpZHRoO2JyZWFrO2Nhc2VcImJvdHRvbVwiOlU9Zy1zLXVbMl0tdGhpcy5kYXRhUmFuZ2VPcHRpb24uYm9yZGVyV2lkdGg7YnJlYWs7Y2FzZVwiY2VudGVyXCI6VT1NYXRoLmZsb29yKChnLXMpLzIpO2JyZWFrO2RlZmF1bHQ6VT10aGlzLnBhcnNlUGVyY2VudCh0aGlzLmRhdGFSYW5nZU9wdGlvbi55LGcpLFU9aXNOYU4oVSk/MDpVfWlmKHRoaXMuZGF0YVJhbmdlT3B0aW9uLmNhbGN1bGFibGUpe3ZhciB5PU1hdGgubWF4KGguZ2V0VGV4dFdpZHRoKHRoaXMuZGF0YVJhbmdlT3B0aW9uLm1heCxyKSxoLmdldFRleHRXaWR0aCh0aGlzLmRhdGFSYW5nZU9wdGlvbi5taW4scikpK2w7XCJob3Jpem9udGFsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudD8oeT5wJiYocD15KSxwK28reT5WJiYocC09eSkpOihsPlUmJihVPWwpLFUrcytsPmcmJihVLT1sKSl9cmV0dXJue3g6cCx5OlUsd2lkdGg6byxoZWlnaHQ6c319LF9nZXRUZXh0U2hhcGU6ZnVuY3Rpb24oZSx0LGkpe3JldHVybnt6bGV2ZWw6dGhpcy5nZXRabGV2ZWxCYXNlKCksejp0aGlzLmdldFpCYXNlKCksc3R5bGU6e3g6XCJob3Jpem9udGFsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudD9lOnRoaXMuX2l0ZW1Hcm91cExvY2F0aW9uLngrdGhpcy5faXRlbUdyb3VwTG9jYXRpb24ud2lkdGgvMix5OlwiaG9yaXpvbnRhbFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi5vcmllbnQ/dGhpcy5faXRlbUdyb3VwTG9jYXRpb24ueSt0aGlzLl9pdGVtR3JvdXBMb2NhdGlvbi5oZWlnaHQvMjp0LGNvbG9yOnRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHRTdHlsZS5jb2xvcix0ZXh0OmksdGV4dEZvbnQ6dGhpcy5nZXRGb250KHRoaXMuZGF0YVJhbmdlT3B0aW9uLnRleHRTdHlsZSksdGV4dEJhc2VsaW5lOlwiaG9yaXpvbnRhbFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi5vcmllbnQ/XCJtaWRkbGVcIjpcInRvcFwiLHRleHRBbGlnbjpcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50P1wibGVmdFwiOlwiY2VudGVyXCJ9LGhvdmVyYWJsZTohMX19LF9nZXRJdGVtU2hhcGU6ZnVuY3Rpb24oZSx0LGksbixhKXtyZXR1cm57emxldmVsOnRoaXMuZ2V0WmxldmVsQmFzZSgpLHo6dGhpcy5nZXRaQmFzZSgpLHN0eWxlOnt4OmUseTp0KzEsd2lkdGg6aSxoZWlnaHQ6bi0yLGNvbG9yOmF9LGhpZ2hsaWdodFN0eWxlOntzdHJva2VDb2xvcjphLGxpbmVXaWR0aDoxfX19LF9fb25kcmlmdDpmdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLngsYT10aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24ueSxvPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi53aWR0aCxzPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi5oZWlnaHQ7cmV0dXJuXCJob3Jpem9udGFsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudD9lLnN0eWxlLngrdDw9bj9lLnN0eWxlLng9bjplLnN0eWxlLngrdCtlLnN0eWxlLndpZHRoPj1uK28/ZS5zdHlsZS54PW4rby1lLnN0eWxlLndpZHRoOmUuc3R5bGUueCs9dDplLnN0eWxlLnkraTw9YT9lLnN0eWxlLnk9YTplLnN0eWxlLnkraStlLnN0eWxlLmhlaWdodD49YStzP2Uuc3R5bGUueT1hK3MtZS5zdHlsZS5oZWlnaHQ6ZS5zdHlsZS55Kz1pLFwiZmlsbGVyXCI9PWUuX3R5cGU/dGhpcy5fc3luY0hhbmRsZVNoYXBlKCk6dGhpcy5fc3luY0ZpbGxlclNoYXBlKGUpLHRoaXMuZGF0YVJhbmdlT3B0aW9uLnJlYWx0aW1lJiZ0aGlzLl9kaXNwYXRjaERhdGFSYW5nZSgpLCEwfSxfX29uZHJhZ2VuZDpmdW5jdGlvbigpe3RoaXMuaXNEcmFnZW5kPSEwfSxvbmRyYWdlbmQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmlzRHJhZ2VuZCYmZS50YXJnZXQmJih0LmRyYWdPdXQ9ITAsdC5kcmFnSW49ITAsdGhpcy5kYXRhUmFuZ2VPcHRpb24ucmVhbHRpbWV8fHRoaXMuX2Rpc3BhdGNoRGF0YVJhbmdlKCksdC5uZWVkUmVmcmVzaD0hMSx0aGlzLmlzRHJhZ2VuZD0hMSl9LF9zeW5jU2hhcGVGcm9tUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGFSYW5nZU9wdGlvbi5yYW5nZXx8e307aWYodGhpcy5fcmFuZ2UuZW5kPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLl9yYW5nZS5lbmQ/dGhpcy5fcmFuZ2UuZW5kOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLnN0YXJ0P2Uuc3RhcnQ6MCx0aGlzLl9yYW5nZS5zdGFydD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5fcmFuZ2Uuc3RhcnQ/dGhpcy5fcmFuZ2Uuc3RhcnQ6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuZW5kP2UuZW5kOjEwMCwxMDAhPXRoaXMuX3JhbmdlLnN0YXJ0fHwwIT09dGhpcy5fcmFuZ2UuZW5kKXtpZihcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50KXt2YXIgdD10aGlzLl9maWxsZXJTaGFwZS5zdHlsZS53aWR0aDt0aGlzLl9maWxsZXJTaGFwZS5zdHlsZS54Kz10KigxMDAtdGhpcy5fcmFuZ2Uuc3RhcnQpLzEwMCx0aGlzLl9maWxsZXJTaGFwZS5zdHlsZS53aWR0aD10Kih0aGlzLl9yYW5nZS5zdGFydC10aGlzLl9yYW5nZS5lbmQpLzEwMH1lbHNle3ZhciBpPXRoaXMuX2ZpbGxlclNoYXBlLnN0eWxlLmhlaWdodDt0aGlzLl9maWxsZXJTaGFwZS5zdHlsZS55Kz1pKigxMDAtdGhpcy5fcmFuZ2Uuc3RhcnQpLzEwMCx0aGlzLl9maWxsZXJTaGFwZS5zdHlsZS5oZWlnaHQ9aSoodGhpcy5fcmFuZ2Uuc3RhcnQtdGhpcy5fcmFuZ2UuZW5kKS8xMDB9dGhpcy56ci5tb2RTaGFwZSh0aGlzLl9maWxsZXJTaGFwZS5pZCksdGhpcy5fc3luY0hhbmRsZVNoYXBlKCl9fSxfc3luY0hhbmRsZVNoYXBlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLngsdD10aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24ueSxpPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi53aWR0aCxuPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi5oZWlnaHQ7XCJob3Jpem9udGFsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudD8odGhpcy5fc3RhcnRTaGFwZS5zdHlsZS54PXRoaXMuX2ZpbGxlclNoYXBlLnN0eWxlLngsdGhpcy5fc3RhcnRNYXNrLnN0eWxlLndpZHRoPXRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUueC1lLHRoaXMuX2VuZFNoYXBlLnN0eWxlLng9dGhpcy5fZmlsbGVyU2hhcGUuc3R5bGUueCt0aGlzLl9maWxsZXJTaGFwZS5zdHlsZS53aWR0aCx0aGlzLl9lbmRNYXNrLnN0eWxlLng9dGhpcy5fZW5kU2hhcGUuc3R5bGUueCx0aGlzLl9lbmRNYXNrLnN0eWxlLndpZHRoPWUraS10aGlzLl9lbmRTaGFwZS5zdHlsZS54LHRoaXMuX3JhbmdlLnN0YXJ0PU1hdGguY2VpbCgxMDAtKHRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUueC1lKS9pKjEwMCksdGhpcy5fcmFuZ2UuZW5kPU1hdGguZmxvb3IoMTAwLSh0aGlzLl9lbmRTaGFwZS5zdHlsZS54LWUpL2kqMTAwKSk6KHRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUueT10aGlzLl9maWxsZXJTaGFwZS5zdHlsZS55LHRoaXMuX3N0YXJ0TWFzay5zdHlsZS5oZWlnaHQ9dGhpcy5fc3RhcnRTaGFwZS5zdHlsZS55LXQsdGhpcy5fZW5kU2hhcGUuc3R5bGUueT10aGlzLl9maWxsZXJTaGFwZS5zdHlsZS55K3RoaXMuX2ZpbGxlclNoYXBlLnN0eWxlLmhlaWdodCx0aGlzLl9lbmRNYXNrLnN0eWxlLnk9dGhpcy5fZW5kU2hhcGUuc3R5bGUueSx0aGlzLl9lbmRNYXNrLnN0eWxlLmhlaWdodD10K24tdGhpcy5fZW5kU2hhcGUuc3R5bGUueSx0aGlzLl9yYW5nZS5zdGFydD1NYXRoLmNlaWwoMTAwLSh0aGlzLl9zdGFydFNoYXBlLnN0eWxlLnktdCkvbioxMDApLHRoaXMuX3JhbmdlLmVuZD1NYXRoLmZsb29yKDEwMC0odGhpcy5fZW5kU2hhcGUuc3R5bGUueS10KS9uKjEwMCkpLHRoaXMuX3N5bmNTaGFwZSgpfSxfc3luY0ZpbGxlclNoYXBlOmZ1bmN0aW9uKGUpe3ZhciB0LGksbj10aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24ueCxhPXRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi55LG89dGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLndpZHRoLHM9dGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLmhlaWdodDtcImhvcml6b250YWxcIj09dGhpcy5kYXRhUmFuZ2VPcHRpb24ub3JpZW50Pyh0PXRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUueCxpPXRoaXMuX2VuZFNoYXBlLnN0eWxlLngsZS5pZD09dGhpcy5fc3RhcnRTaGFwZS5pZCYmdD49aT8oaT10LHRoaXMuX2VuZFNoYXBlLnN0eWxlLng9dCk6ZS5pZD09dGhpcy5fZW5kU2hhcGUuaWQmJnQ+PWkmJih0PWksdGhpcy5fc3RhcnRTaGFwZS5zdHlsZS54PXQpLHRoaXMuX2ZpbGxlclNoYXBlLnN0eWxlLng9dCx0aGlzLl9maWxsZXJTaGFwZS5zdHlsZS53aWR0aD1pLXQsdGhpcy5fc3RhcnRNYXNrLnN0eWxlLndpZHRoPXQtbix0aGlzLl9lbmRNYXNrLnN0eWxlLng9aSx0aGlzLl9lbmRNYXNrLnN0eWxlLndpZHRoPW4rby1pLHRoaXMuX3JhbmdlLnN0YXJ0PU1hdGguY2VpbCgxMDAtKHQtbikvbyoxMDApLHRoaXMuX3JhbmdlLmVuZD1NYXRoLmZsb29yKDEwMC0oaS1uKS9vKjEwMCkpOih0PXRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUueSxpPXRoaXMuX2VuZFNoYXBlLnN0eWxlLnksZS5pZD09dGhpcy5fc3RhcnRTaGFwZS5pZCYmdD49aT8oaT10LHRoaXMuX2VuZFNoYXBlLnN0eWxlLnk9dCk6ZS5pZD09dGhpcy5fZW5kU2hhcGUuaWQmJnQ+PWkmJih0PWksdGhpcy5fc3RhcnRTaGFwZS5zdHlsZS55PXQpLHRoaXMuX2ZpbGxlclNoYXBlLnN0eWxlLnk9dCx0aGlzLl9maWxsZXJTaGFwZS5zdHlsZS5oZWlnaHQ9aS10LHRoaXMuX3N0YXJ0TWFzay5zdHlsZS5oZWlnaHQ9dC1hLHRoaXMuX2VuZE1hc2suc3R5bGUueT1pLHRoaXMuX2VuZE1hc2suc3R5bGUuaGVpZ2h0PWErcy1pLHRoaXMuX3JhbmdlLnN0YXJ0PU1hdGguY2VpbCgxMDAtKHQtYSkvcyoxMDApLHRoaXMuX3JhbmdlLmVuZD1NYXRoLmZsb29yKDEwMC0oaS1hKS9zKjEwMCkpLHRoaXMuX3N5bmNTaGFwZSgpfSxfc3luY1NoYXBlOmZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRTaGFwZS5wb3NpdGlvbj1bdGhpcy5fc3RhcnRTaGFwZS5zdHlsZS54LXRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUuX3gsdGhpcy5fc3RhcnRTaGFwZS5zdHlsZS55LXRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUuX3ldLHRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUudGV4dD10aGlzLl90ZXh0Rm9ybWF0KHRoaXMuX2dhcCp0aGlzLl9yYW5nZS5zdGFydCt0aGlzLmRhdGFSYW5nZU9wdGlvbi5taW4pLHRoaXMuX3N0YXJ0U2hhcGUuc3R5bGUuY29sb3I9dGhpcy5fc3RhcnRTaGFwZS5oaWdobGlnaHRTdHlsZS5zdHJva2VDb2xvcj10aGlzLmdldENvbG9yKHRoaXMuX2dhcCp0aGlzLl9yYW5nZS5zdGFydCt0aGlzLmRhdGFSYW5nZU9wdGlvbi5taW4pLHRoaXMuX2VuZFNoYXBlLnBvc2l0aW9uPVt0aGlzLl9lbmRTaGFwZS5zdHlsZS54LXRoaXMuX2VuZFNoYXBlLnN0eWxlLl94LHRoaXMuX2VuZFNoYXBlLnN0eWxlLnktdGhpcy5fZW5kU2hhcGUuc3R5bGUuX3ldLHRoaXMuX2VuZFNoYXBlLnN0eWxlLnRleHQ9dGhpcy5fdGV4dEZvcm1hdCh0aGlzLl9nYXAqdGhpcy5fcmFuZ2UuZW5kK3RoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbiksdGhpcy5fZW5kU2hhcGUuc3R5bGUuY29sb3I9dGhpcy5fZW5kU2hhcGUuaGlnaGxpZ2h0U3R5bGUuc3Ryb2tlQ29sb3I9dGhpcy5nZXRDb2xvcih0aGlzLl9nYXAqdGhpcy5fcmFuZ2UuZW5kK3RoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbiksdGhpcy56ci5tb2RTaGFwZSh0aGlzLl9zdGFydFNoYXBlLmlkKSx0aGlzLnpyLm1vZFNoYXBlKHRoaXMuX2VuZFNoYXBlLmlkKSx0aGlzLnpyLm1vZFNoYXBlKHRoaXMuX3N0YXJ0TWFzay5pZCksdGhpcy56ci5tb2RTaGFwZSh0aGlzLl9lbmRNYXNrLmlkKSx0aGlzLnpyLm1vZFNoYXBlKHRoaXMuX2ZpbGxlclNoYXBlLmlkKSx0aGlzLnpyLnJlZnJlc2hOZXh0RnJhbWUoKX0sX2Rpc3BhdGNoRGF0YVJhbmdlOmZ1bmN0aW9uKCl7dGhpcy5tZXNzYWdlQ2VudGVyLmRpc3BhdGNoKHMuRVZFTlQuREFUQV9SQU5HRSxudWxsLHtyYW5nZTp7c3RhcnQ6dGhpcy5fcmFuZ2UuZW5kLGVuZDp0aGlzLl9yYW5nZS5zdGFydH19LHRoaXMubXlDaGFydCl9LF9fZGF0YVJhbmdlU2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7aWYoXCJzaW5nbGVcIj09PXRoaXMuZGF0YVJhbmdlT3B0aW9uLnNlbGVjdGVkTW9kZSlmb3IodmFyIHQgaW4gdGhpcy5fc2VsZWN0ZWRNYXApdGhpcy5fc2VsZWN0ZWRNYXBbdF09ITE7dmFyIGk9ZS50YXJnZXQuX2lkeDt0aGlzLl9zZWxlY3RlZE1hcFtpXT0hdGhpcy5fc2VsZWN0ZWRNYXBbaV07dmFyIG49KHRoaXMuX2NvbG9yTGlzdC5sZW5ndGgtaSkqdGhpcy5fZ2FwK3RoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbjt0aGlzLm1lc3NhZ2VDZW50ZXIuZGlzcGF0Y2gocy5FVkVOVC5EQVRBX1JBTkdFX1NFTEVDVEVELGUuZXZlbnQse3NlbGVjdGVkOnRoaXMuX3NlbGVjdGVkTWFwLHRhcmdldDppLHZhbHVlTWF4Om4sdmFsdWVNaW46bi10aGlzLl9nYXB9LHRoaXMubXlDaGFydCksdGhpcy5tZXNzYWdlQ2VudGVyLmRpc3BhdGNoKHMuRVZFTlQuUkVGUkVTSCxudWxsLG51bGwsdGhpcy5teUNoYXJ0KX0sX19kaXNwYXRjaEhvdmVyTGluazpmdW5jdGlvbihlKXt2YXIgdCxpO2lmKHRoaXMuZGF0YVJhbmdlT3B0aW9uLmNhbGN1bGFibGUpe3ZhciBuLGE9dGhpcy5kYXRhUmFuZ2VPcHRpb24ubWF4LXRoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbjtuPVwiaG9yaXpvbnRhbFwiPT10aGlzLmRhdGFSYW5nZU9wdGlvbi5vcmllbnQ/KDEtKGwuZ2V0WChlLmV2ZW50KS10aGlzLl9jYWxjdWxhYmxlTG9jYXRpb24ueCkvdGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLndpZHRoKSphOigxLShsLmdldFkoZS5ldmVudCktdGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLnkpL3RoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi5oZWlnaHQpKmEsdD1uLS4wNSphLGk9bisuMDUqYX1lbHNle3ZhciBvPWUudGFyZ2V0Ll9pZHg7aT0odGhpcy5fY29sb3JMaXN0Lmxlbmd0aC1vKSp0aGlzLl9nYXArdGhpcy5kYXRhUmFuZ2VPcHRpb24ubWluLHQ9aS10aGlzLl9nYXB9dGhpcy5tZXNzYWdlQ2VudGVyLmRpc3BhdGNoKHMuRVZFTlQuREFUQV9SQU5HRV9IT1ZFUkxJTkssZS5ldmVudCx7dmFsdWVNaW46dCx2YWx1ZU1heDppfSx0aGlzLm15Q2hhcnQpfSxfX29uaG92ZXJsaW5rOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZGF0YVJhbmdlT3B0aW9uLnNob3cmJnRoaXMuZGF0YVJhbmdlT3B0aW9uLmhvdmVyTGluayYmdGhpcy5faW5kaWNhdG9yU2hhcGUmJmUmJm51bGwhPWUuc2VyaWVzSW5kZXgmJm51bGwhPWUuZGF0YUluZGV4KXt2YXIgdD1lLnZhbHVlO2lmKFwiXCI9PT10fHxpc05hTih0KSlyZXR1cm47dDx0aGlzLmRhdGFSYW5nZU9wdGlvbi5taW4/dD10aGlzLmRhdGFSYW5nZU9wdGlvbi5taW46dD50aGlzLmRhdGFSYW5nZU9wdGlvbi5tYXgmJih0PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm1heCksdGhpcy5faW5kaWNhdG9yU2hhcGUucG9zaXRpb249XCJob3Jpem9udGFsXCI9PXRoaXMuZGF0YVJhbmdlT3B0aW9uLm9yaWVudD9bKHRoaXMuZGF0YVJhbmdlT3B0aW9uLm1heC10KS8odGhpcy5kYXRhUmFuZ2VPcHRpb24ubWF4LXRoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbikqdGhpcy5fY2FsY3VsYWJsZUxvY2F0aW9uLndpZHRoLDBdOlswLCh0aGlzLmRhdGFSYW5nZU9wdGlvbi5tYXgtdCkvKHRoaXMuZGF0YVJhbmdlT3B0aW9uLm1heC10aGlzLmRhdGFSYW5nZU9wdGlvbi5taW4pKnRoaXMuX2NhbGN1bGFibGVMb2NhdGlvbi5oZWlnaHRdLHRoaXMuX2luZGljYXRvclNoYXBlLnN0eWxlLnRleHQ9dGhpcy5fdGV4dEZvcm1hdChlLnZhbHVlKSx0aGlzLl9pbmRpY2F0b3JTaGFwZS5zdHlsZS5jb2xvcj10aGlzLmdldENvbG9yKHQpLHRoaXMuenIuYWRkSG92ZXJTaGFwZSh0aGlzLl9pbmRpY2F0b3JTaGFwZSl9fSxfdGV4dEZvcm1hdDpmdW5jdGlvbihlLHQpe2lmKGU9ZS50b0ZpeGVkKHRoaXMuZGF0YVJhbmdlT3B0aW9uLnByZWNpc2lvbiksdD1udWxsIT10P3QudG9GaXhlZCh0aGlzLmRhdGFSYW5nZU9wdGlvbi5wcmVjaXNpb24pOlwiXCIsdGhpcy5kYXRhUmFuZ2VPcHRpb24uZm9ybWF0dGVyKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5kYXRhUmFuZ2VPcHRpb24uZm9ybWF0dGVyKXJldHVybiB0aGlzLmRhdGFSYW5nZU9wdGlvbi5mb3JtYXR0ZXIucmVwbGFjZShcInt2YWx1ZX1cIixlKS5yZXBsYWNlKFwie3ZhbHVlMn1cIix0KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmRhdGFSYW5nZU9wdGlvbi5mb3JtYXR0ZXIpcmV0dXJuIHRoaXMuZGF0YVJhbmdlT3B0aW9uLmZvcm1hdHRlci5jYWxsKHRoaXMubXlDaGFydCxlLHQpfXJldHVyblwiXCIhPT10P2UrXCIgLSBcIit0OmV9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7aWYoZSl7dGhpcy5vcHRpb249ZSx0aGlzLm9wdGlvbi5kYXRhUmFuZ2U9dGhpcy5yZWZvcm1PcHRpb24odGhpcy5vcHRpb24uZGF0YVJhbmdlKSx0aGlzLmRhdGFSYW5nZU9wdGlvbj10aGlzLm9wdGlvbi5kYXRhUmFuZ2UsdGhpcy5teUNoYXJ0LmNhbnZhc1N1cHBvcnRlZHx8KHRoaXMuZGF0YVJhbmdlT3B0aW9uLnJlYWx0aW1lPSExKTt2YXIgdD10aGlzLmRhdGFSYW5nZU9wdGlvbi5zcGxpdE51bWJlcjw9MHx8dGhpcy5kYXRhUmFuZ2VPcHRpb24uY2FsY3VsYWJsZT8xMDA6dGhpcy5kYXRhUmFuZ2VPcHRpb24uc3BsaXROdW1iZXI7aWYodGhpcy5fY29sb3JMaXN0PWQuZ2V0R3JhZGllbnRDb2xvcnModGhpcy5kYXRhUmFuZ2VPcHRpb24uY29sb3IsTWF0aC5tYXgoKHQtdGhpcy5kYXRhUmFuZ2VPcHRpb24uY29sb3IubGVuZ3RoKS8odGhpcy5kYXRhUmFuZ2VPcHRpb24uY29sb3IubGVuZ3RoLTEpLDApKzEpLHRoaXMuX2NvbG9yTGlzdC5sZW5ndGg+dCl7Zm9yKHZhciBpPXRoaXMuX2NvbG9yTGlzdC5sZW5ndGgsbj1bdGhpcy5fY29sb3JMaXN0WzBdXSxhPWkvKHQtMSksbz0xO3QtMT5vO28rKyluLnB1c2godGhpcy5fY29sb3JMaXN0W01hdGguZmxvb3IobyphKV0pO24ucHVzaCh0aGlzLl9jb2xvckxpc3RbaS0xXSksdGhpcy5fY29sb3JMaXN0PW59dmFyIHM9dGhpcy5kYXRhUmFuZ2VPcHRpb24ucHJlY2lzaW9uO2Zvcih0aGlzLl9nYXA9KHRoaXMuZGF0YVJhbmdlT3B0aW9uLm1heC10aGlzLmRhdGFSYW5nZU9wdGlvbi5taW4pL3Q7dGhpcy5fZ2FwLnRvRml4ZWQocyktMCE9dGhpcy5fZ2FwJiY1PnM7KXMrKzt0aGlzLmRhdGFSYW5nZU9wdGlvbi5wcmVjaXNpb249cyx0aGlzLl9nYXA9KCh0aGlzLmRhdGFSYW5nZU9wdGlvbi5tYXgtdGhpcy5kYXRhUmFuZ2VPcHRpb24ubWluKS90KS50b0ZpeGVkKHMpLTAsdGhpcy5fdmFsdWVUZXh0TGlzdD1bXTtmb3IodmFyIG89MDt0Pm87bysrKXRoaXMuX3NlbGVjdGVkTWFwW29dPSEwLHRoaXMuX3ZhbHVlVGV4dExpc3QudW5zaGlmdCh0aGlzLl90ZXh0Rm9ybWF0KG8qdGhpcy5fZ2FwK3RoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbiwobysxKSp0aGlzLl9nYXArdGhpcy5kYXRhUmFuZ2VPcHRpb24ubWluKSl9dGhpcy5jbGVhcigpLHRoaXMuX2J1aWxkU2hhcGUoKX0sZ2V0Q29sb3I6ZnVuY3Rpb24oZSl7aWYoaXNOYU4oZSkpcmV0dXJuIG51bGw7aWYodGhpcy5kYXRhUmFuZ2VPcHRpb24ubWluPT10aGlzLmRhdGFSYW5nZU9wdGlvbi5tYXgpcmV0dXJuIHRoaXMuX2NvbG9yTGlzdFswXTtpZihlPHRoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbj9lPXRoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbjplPnRoaXMuZGF0YVJhbmdlT3B0aW9uLm1heCYmKGU9dGhpcy5kYXRhUmFuZ2VPcHRpb24ubWF4KSx0aGlzLmRhdGFSYW5nZU9wdGlvbi5jYWxjdWxhYmxlJiYoZS0odGhpcy5fZ2FwKnRoaXMuX3JhbmdlLnN0YXJ0K3RoaXMuZGF0YVJhbmdlT3B0aW9uLm1pbik+NWUtNXx8ZS0odGhpcy5fZ2FwKnRoaXMuX3JhbmdlLmVuZCt0aGlzLmRhdGFSYW5nZU9wdGlvbi5taW4pPC01ZS01KSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLl9jb2xvckxpc3QubGVuZ3RoLU1hdGguY2VpbCgoZS10aGlzLmRhdGFSYW5nZU9wdGlvbi5taW4pLyh0aGlzLmRhdGFSYW5nZU9wdGlvbi5tYXgtdGhpcy5kYXRhUmFuZ2VPcHRpb24ubWluKSp0aGlzLl9jb2xvckxpc3QubGVuZ3RoKTtyZXR1cm4gdD09dGhpcy5fY29sb3JMaXN0Lmxlbmd0aCYmdC0tLHRoaXMuX3NlbGVjdGVkTWFwW3RdP3RoaXMuX2NvbG9yTGlzdFt0XTpudWxsfSxnZXRDb2xvckJ5SW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PXRoaXMuX2NvbG9yTGlzdC5sZW5ndGg/ZT10aGlzLl9jb2xvckxpc3QubGVuZ3RoLTE6MD5lJiYoZT0wKSx0aGlzLl9jb2xvckxpc3RbZV19LG9uYmVmb3JEaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5tZXNzYWdlQ2VudGVyLnVuYmluZChzLkVWRU5ULkhPVkVSLHRoaXMuX29uaG92ZXJsaW5rKX19LHIuaW5oZXJpdHModCxpKSxlKFwiLi4vY29tcG9uZW50XCIpLmRlZmluZShcImRhdGFSYW5nZVwiLHQpLHR9KSxkZWZpbmUoXCJlY2hhcnRzL3V0aWwvc2hhcGUvSGFuZGxlUG9seWdvblwiLFtcInJlcXVpcmVcIixcInpyZW5kZXIvc2hhcGUvQmFzZVwiLFwienJlbmRlci9zaGFwZS9Qb2x5Z29uXCIsXCJ6cmVuZGVyL3Rvb2wvdXRpbFwiXSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe2kuY2FsbCh0aGlzLGUpfXZhciBpPWUoXCJ6cmVuZGVyL3NoYXBlL0Jhc2VcIiksbj1lKFwienJlbmRlci9zaGFwZS9Qb2x5Z29uXCIpLGE9ZShcInpyZW5kZXIvdG9vbC91dGlsXCIpO3JldHVybiB0LnByb3RvdHlwZT17dHlwZTpcImhhbmRsZS1wb2x5Z29uXCIsYnVpbGRQYXRoOmZ1bmN0aW9uKGUsdCl7bi5wcm90b3R5cGUuYnVpbGRQYXRoKGUsdCl9LGlzQ292ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmdldFRhbnNmb3JtKGUsdCk7ZT1pWzBdLHQ9aVsxXTt2YXIgbj10aGlzLnN0eWxlLnJlY3Q7cmV0dXJuIGU+PW4ueCYmZTw9bi54K24ud2lkdGgmJnQ+PW4ueSYmdDw9bi55K24uaGVpZ2h0PyEwOiExfX0sYS5pbmhlcml0cyh0LGkpLHR9KTsiXSwiZmlsZSI6InBsdWdpbnMvZWNoYXJ0cy9jaGFydC9zY2F0dGVyLmpzIn0=
