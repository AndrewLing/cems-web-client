/*
 Data plugin for Highcharts

 (c) 2012-2013 Torstein HÃ¸nsi
 Last revision 2013-06-07

 License: www.highcharts.com/license
*/
(function(h){var k=h.each,m=function(b,a){this.init(b,a)};h.extend(m.prototype,{init:function(b,a){this.options=b;this.chartOptions=a;this.columns=b.columns||this.rowsToColumns(b.rows)||[];this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var b=this.chartOptions,a=b&&b.chart&&b.chart.type,c=[];k(b&&b.series||[],function(b){c.push((h.seriesTypes[b.type||a||"line"].prototype.pointArrayMap||[0]).length)});this.valueCount=
{global:(h.seriesTypes[a||"line"].prototype.pointArrayMap||[0]).length,individual:c}},dataFound:function(){this.parseTypes();this.findHeaderRow();this.parsed();this.complete()},parseCSV:function(){var b=this,a=this.options,c=a.csv,d=this.columns,f=a.startRow||0,i=a.endRow||Number.MAX_VALUE,j=a.startColumn||0,e=a.endColumn||Number.MAX_VALUE,g=0;c&&(c=c.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(a.lineDelimiter||"\n"),k(c,function(c,h){var n=b.trim(c),p=n.indexOf("#")===0;h>=f&&h<=i&&!p&&n!==""&&
(n=c.split(a.itemDelimiter||","),k(n,function(b,a){a>=j&&a<=e&&(d[a-j]||(d[a-j]=[]),d[a-j][g]=b)}),g+=1)}),this.dataFound())},parseTable:function(){var b=this.options,a=b.table,c=this.columns,d=b.startRow||0,f=b.endRow||Number.MAX_VALUE,i=b.startColumn||0,j=b.endColumn||Number.MAX_VALUE,e;a&&(typeof a==="string"&&(a=document.getElementById(a)),k(a.getElementsByTagName("tr"),function(a,b){e=0;b>=d&&b<=f&&k(a.childNodes,function(a){if((a.tagName==="TD"||a.tagName==="TH")&&e>=i&&e<=j)c[e]||(c[e]=[]),
c[e][b-d]=a.innerHTML,e+=1})}),this.dataFound())},parseGoogleSpreadsheet:function(){var b=this,a=this.options,c=a.googleSpreadsheetKey,d=this.columns,f=a.startRow||0,i=a.endRow||Number.MAX_VALUE,j=a.startColumn||0,e=a.endColumn||Number.MAX_VALUE,g,h;c&&jQuery.getJSON("https://spreadsheets.google.com/feeds/cells/"+c+"/"+(a.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",function(a){var a=a.feed.entry,c,k=a.length,m=0,o=0,l;for(l=0;l<k;l++)c=a[l],m=Math.max(m,c.gs$cell.col),
o=Math.max(o,c.gs$cell.row);for(l=0;l<m;l++)if(l>=j&&l<=e)d[l-j]=[],d[l-j].length=Math.min(o,i-f);for(l=0;l<k;l++)if(c=a[l],g=c.gs$cell.row-1,h=c.gs$cell.col-1,h>=j&&h<=e&&g>=f&&g<=i)d[h-j][g-f]=c.content.$t;b.dataFound()})},findHeaderRow:function(){k(this.columns,function(){});this.headerRow=0},trim:function(b){return typeof b==="string"?b.replace(/^\s+|\s+$/g,""):b},parseTypes:function(){for(var b=this.columns,a=b.length,c,d,f,i;a--;)for(c=b[a].length;c--;)d=b[a][c],f=parseFloat(d),i=this.trim(d),
i==f?(b[a][c]=f,f>31536E6?b[a].isDatetime=!0:b[a].isNumeric=!0):(d=this.parseDate(d),a===0&&typeof d==="number"&&!isNaN(d)?(b[a][c]=d,b[a].isDatetime=!0):b[a][c]=i===""?null:i)},dateFormats:{"YYYY-mm-dd":{regex:"^([0-9]{4})-([0-9]{2})-([0-9]{2})$",parser:function(b){return Date.UTC(+b[1],b[2]-1,+b[3])}}},parseDate:function(b){var a=this.options.parseDate,c,d,f;a&&(c=a(b));if(typeof b==="string")for(d in this.dateFormats)a=this.dateFormats[d],(f=b.match(a.regex))&&(c=a.parser(f));return c},rowsToColumns:function(b){var a,
c,d,f,i;if(b){i=[];c=b.length;for(a=0;a<c;a++){f=b[a].length;for(d=0;d<f;d++)i[d]||(i[d]=[]),i[d][a]=b[a][d]}}return i},parsed:function(){this.options.parsed&&this.options.parsed.call(this,this.columns)},complete:function(){var b=this.columns,a,c,d=this.options,f,i,j,e,g,k;if(d.complete){this.getColumnDistribution();b.length>1&&(a=b.shift(),this.headerRow===0&&a.shift(),a.isDatetime?c="datetime":a.isNumeric||(c="category"));for(e=0;e<b.length;e++)if(this.headerRow===0)b[e].name=b[e].shift();i=[];
for(e=0,k=0;e<b.length;k++){f=h.pick(this.valueCount.individual[k],this.valueCount.global);j=[];for(g=0;g<b[e].length;g++)j[g]=[a[g],b[e][g]!==void 0?b[e][g]:null],f>1&&j[g].push(b[e+1][g]!==void 0?b[e+1][g]:null),f>2&&j[g].push(b[e+2][g]!==void 0?b[e+2][g]:null),f>3&&j[g].push(b[e+3][g]!==void 0?b[e+3][g]:null),f>4&&j[g].push(b[e+4][g]!==void 0?b[e+4][g]:null);i[k]={name:b[e].name,data:j};e+=f}d.complete({xAxis:{type:c},series:i})}}});h.Data=m;h.data=function(b,a){return new m(b,a)};h.wrap(h.Chart.prototype,
"init",function(b,a,c){var d=this;a&&a.data?h.data(h.extend(a.data,{complete:function(f){a.series&&k(a.series,function(b,c){a.series[c]=h.merge(b,f.series[c])});a=h.merge(f,a);b.call(d,a,c)}}),a):b.call(d,a,c)})})(Highcharts);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwbHVnaW5zL3VlZGl0b3IvdGhpcmQtcGFydHkvaGlnaGNoYXJ0cy9tb2R1bGVzL2RhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiBEYXRhIHBsdWdpbiBmb3IgSGlnaGNoYXJ0c1xuXG4gKGMpIDIwMTItMjAxMyBUb3JzdGVpbiBIw7huc2lcbiBMYXN0IHJldmlzaW9uIDIwMTMtMDYtMDdcblxuIExpY2Vuc2U6IHd3dy5oaWdoY2hhcnRzLmNvbS9saWNlbnNlXG4qL1xuKGZ1bmN0aW9uKGgpe3ZhciBrPWguZWFjaCxtPWZ1bmN0aW9uKGIsYSl7dGhpcy5pbml0KGIsYSl9O2guZXh0ZW5kKG0ucHJvdG90eXBlLHtpbml0OmZ1bmN0aW9uKGIsYSl7dGhpcy5vcHRpb25zPWI7dGhpcy5jaGFydE9wdGlvbnM9YTt0aGlzLmNvbHVtbnM9Yi5jb2x1bW5zfHx0aGlzLnJvd3NUb0NvbHVtbnMoYi5yb3dzKXx8W107dGhpcy5jb2x1bW5zLmxlbmd0aD90aGlzLmRhdGFGb3VuZCgpOih0aGlzLnBhcnNlQ1NWKCksdGhpcy5wYXJzZVRhYmxlKCksdGhpcy5wYXJzZUdvb2dsZVNwcmVhZHNoZWV0KCkpfSxnZXRDb2x1bW5EaXN0cmlidXRpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmNoYXJ0T3B0aW9ucyxhPWImJmIuY2hhcnQmJmIuY2hhcnQudHlwZSxjPVtdO2soYiYmYi5zZXJpZXN8fFtdLGZ1bmN0aW9uKGIpe2MucHVzaCgoaC5zZXJpZXNUeXBlc1tiLnR5cGV8fGF8fFwibGluZVwiXS5wcm90b3R5cGUucG9pbnRBcnJheU1hcHx8WzBdKS5sZW5ndGgpfSk7dGhpcy52YWx1ZUNvdW50PVxue2dsb2JhbDooaC5zZXJpZXNUeXBlc1thfHxcImxpbmVcIl0ucHJvdG90eXBlLnBvaW50QXJyYXlNYXB8fFswXSkubGVuZ3RoLGluZGl2aWR1YWw6Y319LGRhdGFGb3VuZDpmdW5jdGlvbigpe3RoaXMucGFyc2VUeXBlcygpO3RoaXMuZmluZEhlYWRlclJvdygpO3RoaXMucGFyc2VkKCk7dGhpcy5jb21wbGV0ZSgpfSxwYXJzZUNTVjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT10aGlzLm9wdGlvbnMsYz1hLmNzdixkPXRoaXMuY29sdW1ucyxmPWEuc3RhcnRSb3d8fDAsaT1hLmVuZFJvd3x8TnVtYmVyLk1BWF9WQUxVRSxqPWEuc3RhcnRDb2x1bW58fDAsZT1hLmVuZENvbHVtbnx8TnVtYmVyLk1BWF9WQUxVRSxnPTA7YyYmKGM9Yy5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKS5yZXBsYWNlKC9cXHIvZyxcIlxcblwiKS5zcGxpdChhLmxpbmVEZWxpbWl0ZXJ8fFwiXFxuXCIpLGsoYyxmdW5jdGlvbihjLGgpe3ZhciBuPWIudHJpbShjKSxwPW4uaW5kZXhPZihcIiNcIik9PT0wO2g+PWYmJmg8PWkmJiFwJiZuIT09XCJcIiYmXG4obj1jLnNwbGl0KGEuaXRlbURlbGltaXRlcnx8XCIsXCIpLGsobixmdW5jdGlvbihiLGEpe2E+PWomJmE8PWUmJihkW2Etal18fChkW2Etal09W10pLGRbYS1qXVtnXT1iKX0pLGcrPTEpfSksdGhpcy5kYXRhRm91bmQoKSl9LHBhcnNlVGFibGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYT1iLnRhYmxlLGM9dGhpcy5jb2x1bW5zLGQ9Yi5zdGFydFJvd3x8MCxmPWIuZW5kUm93fHxOdW1iZXIuTUFYX1ZBTFVFLGk9Yi5zdGFydENvbHVtbnx8MCxqPWIuZW5kQ29sdW1ufHxOdW1iZXIuTUFYX1ZBTFVFLGU7YSYmKHR5cGVvZiBhPT09XCJzdHJpbmdcIiYmKGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkpLGsoYS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRyXCIpLGZ1bmN0aW9uKGEsYil7ZT0wO2I+PWQmJmI8PWYmJmsoYS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGEpe2lmKChhLnRhZ05hbWU9PT1cIlREXCJ8fGEudGFnTmFtZT09PVwiVEhcIikmJmU+PWkmJmU8PWopY1tlXXx8KGNbZV09W10pLFxuY1tlXVtiLWRdPWEuaW5uZXJIVE1MLGUrPTF9KX0pLHRoaXMuZGF0YUZvdW5kKCkpfSxwYXJzZUdvb2dsZVNwcmVhZHNoZWV0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPXRoaXMub3B0aW9ucyxjPWEuZ29vZ2xlU3ByZWFkc2hlZXRLZXksZD10aGlzLmNvbHVtbnMsZj1hLnN0YXJ0Um93fHwwLGk9YS5lbmRSb3d8fE51bWJlci5NQVhfVkFMVUUsaj1hLnN0YXJ0Q29sdW1ufHwwLGU9YS5lbmRDb2x1bW58fE51bWJlci5NQVhfVkFMVUUsZyxoO2MmJmpRdWVyeS5nZXRKU09OKFwiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy9cIitjK1wiL1wiKyhhLmdvb2dsZVNwcmVhZHNoZWV0V29ya3NoZWV0fHxcIm9kNlwiKStcIi9wdWJsaWMvdmFsdWVzP2FsdD1qc29uLWluLXNjcmlwdCZjYWxsYmFjaz0/XCIsZnVuY3Rpb24oYSl7dmFyIGE9YS5mZWVkLmVudHJ5LGMsaz1hLmxlbmd0aCxtPTAsbz0wLGw7Zm9yKGw9MDtsPGs7bCsrKWM9YVtsXSxtPU1hdGgubWF4KG0sYy5ncyRjZWxsLmNvbCksXG5vPU1hdGgubWF4KG8sYy5ncyRjZWxsLnJvdyk7Zm9yKGw9MDtsPG07bCsrKWlmKGw+PWomJmw8PWUpZFtsLWpdPVtdLGRbbC1qXS5sZW5ndGg9TWF0aC5taW4obyxpLWYpO2ZvcihsPTA7bDxrO2wrKylpZihjPWFbbF0sZz1jLmdzJGNlbGwucm93LTEsaD1jLmdzJGNlbGwuY29sLTEsaD49aiYmaDw9ZSYmZz49ZiYmZzw9aSlkW2gtal1bZy1mXT1jLmNvbnRlbnQuJHQ7Yi5kYXRhRm91bmQoKX0pfSxmaW5kSGVhZGVyUm93OmZ1bmN0aW9uKCl7ayh0aGlzLmNvbHVtbnMsZnVuY3Rpb24oKXt9KTt0aGlzLmhlYWRlclJvdz0wfSx0cmltOmZ1bmN0aW9uKGIpe3JldHVybiB0eXBlb2YgYj09PVwic3RyaW5nXCI/Yi5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpOmJ9LHBhcnNlVHlwZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5jb2x1bW5zLGE9Yi5sZW5ndGgsYyxkLGYsaTthLS07KWZvcihjPWJbYV0ubGVuZ3RoO2MtLTspZD1iW2FdW2NdLGY9cGFyc2VGbG9hdChkKSxpPXRoaXMudHJpbShkKSxcbmk9PWY/KGJbYV1bY109ZixmPjMxNTM2RTY/YlthXS5pc0RhdGV0aW1lPSEwOmJbYV0uaXNOdW1lcmljPSEwKTooZD10aGlzLnBhcnNlRGF0ZShkKSxhPT09MCYmdHlwZW9mIGQ9PT1cIm51bWJlclwiJiYhaXNOYU4oZCk/KGJbYV1bY109ZCxiW2FdLmlzRGF0ZXRpbWU9ITApOmJbYV1bY109aT09PVwiXCI/bnVsbDppKX0sZGF0ZUZvcm1hdHM6e1wiWVlZWS1tbS1kZFwiOntyZWdleDpcIl4oWzAtOV17NH0pLShbMC05XXsyfSktKFswLTldezJ9KSRcIixwYXJzZXI6ZnVuY3Rpb24oYil7cmV0dXJuIERhdGUuVVRDKCtiWzFdLGJbMl0tMSwrYlszXSl9fX0scGFyc2VEYXRlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMub3B0aW9ucy5wYXJzZURhdGUsYyxkLGY7YSYmKGM9YShiKSk7aWYodHlwZW9mIGI9PT1cInN0cmluZ1wiKWZvcihkIGluIHRoaXMuZGF0ZUZvcm1hdHMpYT10aGlzLmRhdGVGb3JtYXRzW2RdLChmPWIubWF0Y2goYS5yZWdleCkpJiYoYz1hLnBhcnNlcihmKSk7cmV0dXJuIGN9LHJvd3NUb0NvbHVtbnM6ZnVuY3Rpb24oYil7dmFyIGEsXG5jLGQsZixpO2lmKGIpe2k9W107Yz1iLmxlbmd0aDtmb3IoYT0wO2E8YzthKyspe2Y9YlthXS5sZW5ndGg7Zm9yKGQ9MDtkPGY7ZCsrKWlbZF18fChpW2RdPVtdKSxpW2RdW2FdPWJbYV1bZF19fXJldHVybiBpfSxwYXJzZWQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucGFyc2VkJiZ0aGlzLm9wdGlvbnMucGFyc2VkLmNhbGwodGhpcyx0aGlzLmNvbHVtbnMpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuY29sdW1ucyxhLGMsZD10aGlzLm9wdGlvbnMsZixpLGosZSxnLGs7aWYoZC5jb21wbGV0ZSl7dGhpcy5nZXRDb2x1bW5EaXN0cmlidXRpb24oKTtiLmxlbmd0aD4xJiYoYT1iLnNoaWZ0KCksdGhpcy5oZWFkZXJSb3c9PT0wJiZhLnNoaWZ0KCksYS5pc0RhdGV0aW1lP2M9XCJkYXRldGltZVwiOmEuaXNOdW1lcmljfHwoYz1cImNhdGVnb3J5XCIpKTtmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKWlmKHRoaXMuaGVhZGVyUm93PT09MCliW2VdLm5hbWU9YltlXS5zaGlmdCgpO2k9W107XG5mb3IoZT0wLGs9MDtlPGIubGVuZ3RoO2srKyl7Zj1oLnBpY2sodGhpcy52YWx1ZUNvdW50LmluZGl2aWR1YWxba10sdGhpcy52YWx1ZUNvdW50Lmdsb2JhbCk7aj1bXTtmb3IoZz0wO2c8YltlXS5sZW5ndGg7ZysrKWpbZ109W2FbZ10sYltlXVtnXSE9PXZvaWQgMD9iW2VdW2ddOm51bGxdLGY+MSYmaltnXS5wdXNoKGJbZSsxXVtnXSE9PXZvaWQgMD9iW2UrMV1bZ106bnVsbCksZj4yJiZqW2ddLnB1c2goYltlKzJdW2ddIT09dm9pZCAwP2JbZSsyXVtnXTpudWxsKSxmPjMmJmpbZ10ucHVzaChiW2UrM11bZ10hPT12b2lkIDA/YltlKzNdW2ddOm51bGwpLGY+NCYmaltnXS5wdXNoKGJbZSs0XVtnXSE9PXZvaWQgMD9iW2UrNF1bZ106bnVsbCk7aVtrXT17bmFtZTpiW2VdLm5hbWUsZGF0YTpqfTtlKz1mfWQuY29tcGxldGUoe3hBeGlzOnt0eXBlOmN9LHNlcmllczppfSl9fX0pO2guRGF0YT1tO2guZGF0YT1mdW5jdGlvbihiLGEpe3JldHVybiBuZXcgbShiLGEpfTtoLndyYXAoaC5DaGFydC5wcm90b3R5cGUsXG5cImluaXRcIixmdW5jdGlvbihiLGEsYyl7dmFyIGQ9dGhpczthJiZhLmRhdGE/aC5kYXRhKGguZXh0ZW5kKGEuZGF0YSx7Y29tcGxldGU6ZnVuY3Rpb24oZil7YS5zZXJpZXMmJmsoYS5zZXJpZXMsZnVuY3Rpb24oYixjKXthLnNlcmllc1tjXT1oLm1lcmdlKGIsZi5zZXJpZXNbY10pfSk7YT1oLm1lcmdlKGYsYSk7Yi5jYWxsKGQsYSxjKX19KSxhKTpiLmNhbGwoZCxhLGMpfSl9KShIaWdoY2hhcnRzKTtcbiJdLCJmaWxlIjoicGx1Z2lucy91ZWRpdG9yL3RoaXJkLXBhcnR5L2hpZ2hjaGFydHMvbW9kdWxlcy9kYXRhLmpzIn0=
