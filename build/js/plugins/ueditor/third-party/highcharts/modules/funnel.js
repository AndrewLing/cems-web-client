/*
 
 Highcharts funnel module, Beta

 (c) 2010-2012 Torstein HÃ¸nsi

 License: www.highcharts.com/license
*/
(function(d){var u=d.getOptions().plotOptions,p=d.seriesTypes,D=d.merge,z=function(){},A=d.each;u.funnel=D(u.pie,{center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",dataLabels:{connectorWidth:1,connectorColor:"#606060"},size:!0,states:{select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}});p.funnel=d.extendClass(p.pie,{type:"funnel",animate:z,translate:function(){var a=function(k,a){return/%$/.test(k)?a*parseInt(k,10)/100:parseInt(k,10)},g=0,e=this.chart,f=e.plotWidth,
e=e.plotHeight,h=0,c=this.options,C=c.center,b=a(C[0],f),d=a(C[0],e),p=a(c.width,f),i,q,j=a(c.height,e),r=a(c.neckWidth,f),s=a(c.neckHeight,e),v=j-s,a=this.data,w,x,u=c.dataLabels.position==="left"?1:0,y,m,B,n,l,t,o;this.getWidthAt=q=function(k){return k>j-s||j===s?r:r+(p-r)*((j-s-k)/(j-s))};this.getX=function(k,a){return b+(a?-1:1)*(q(k)/2+c.dataLabels.distance)};this.center=[b,d,j];this.centerX=b;A(a,function(a){g+=a.y});A(a,function(a){o=null;x=g?a.y/g:0;m=d-j/2+h*j;l=m+x*j;i=q(m);y=b-i/2;B=y+
i;i=q(l);n=b-i/2;t=n+i;m>v?(y=n=b-r/2,B=t=b+r/2):l>v&&(o=l,i=q(v),n=b-i/2,t=n+i,l=v);w=["M",y,m,"L",B,m,t,l];o&&w.push(t,o,n,o);w.push(n,l,"Z");a.shapeType="path";a.shapeArgs={d:w};a.percentage=x*100;a.plotX=b;a.plotY=(m+(o||l))/2;a.tooltipPos=[b,a.plotY];a.slice=z;a.half=u;h+=x});this.setTooltipPoints()},drawPoints:function(){var a=this,g=a.options,e=a.chart.renderer;A(a.data,function(f){var h=f.graphic,c=f.shapeArgs;h?h.animate(c):f.graphic=e.path(c).attr({fill:f.color,stroke:g.borderColor,"stroke-width":g.borderWidth}).add(a.group)})},
sortByAngle:z,drawDataLabels:function(){var a=this.data,g=this.options.dataLabels.distance,e,f,h,c=a.length,d,b;for(this.center[2]-=2*g;c--;)h=a[c],f=(e=h.half)?1:-1,b=h.plotY,d=this.getX(b,e),h.labelPos=[0,b,d+(g-5)*f,b,d+g*f,b,e?"right":"left",0];p.pie.prototype.drawDataLabels.call(this)}})})(Highcharts);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwbHVnaW5zL3VlZGl0b3IvdGhpcmQtcGFydHkvaGlnaGNoYXJ0cy9tb2R1bGVzL2Z1bm5lbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuIFxuIEhpZ2hjaGFydHMgZnVubmVsIG1vZHVsZSwgQmV0YVxuXG4gKGMpIDIwMTAtMjAxMiBUb3JzdGVpbiBIw7huc2lcblxuIExpY2Vuc2U6IHd3dy5oaWdoY2hhcnRzLmNvbS9saWNlbnNlXG4qL1xuKGZ1bmN0aW9uKGQpe3ZhciB1PWQuZ2V0T3B0aW9ucygpLnBsb3RPcHRpb25zLHA9ZC5zZXJpZXNUeXBlcyxEPWQubWVyZ2Usej1mdW5jdGlvbigpe30sQT1kLmVhY2g7dS5mdW5uZWw9RCh1LnBpZSx7Y2VudGVyOltcIjUwJVwiLFwiNTAlXCJdLHdpZHRoOlwiOTAlXCIsbmVja1dpZHRoOlwiMzAlXCIsaGVpZ2h0OlwiMTAwJVwiLG5lY2tIZWlnaHQ6XCIyNSVcIixkYXRhTGFiZWxzOntjb25uZWN0b3JXaWR0aDoxLGNvbm5lY3RvckNvbG9yOlwiIzYwNjA2MFwifSxzaXplOiEwLHN0YXRlczp7c2VsZWN0Ontjb2xvcjpcIiNDMEMwQzBcIixib3JkZXJDb2xvcjpcIiMwMDAwMDBcIixzaGFkb3c6ITF9fX0pO3AuZnVubmVsPWQuZXh0ZW5kQ2xhc3MocC5waWUse3R5cGU6XCJmdW5uZWxcIixhbmltYXRlOnosdHJhbnNsYXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oayxhKXtyZXR1cm4vJSQvLnRlc3Qoayk/YSpwYXJzZUludChrLDEwKS8xMDA6cGFyc2VJbnQoaywxMCl9LGc9MCxlPXRoaXMuY2hhcnQsZj1lLnBsb3RXaWR0aCxcbmU9ZS5wbG90SGVpZ2h0LGg9MCxjPXRoaXMub3B0aW9ucyxDPWMuY2VudGVyLGI9YShDWzBdLGYpLGQ9YShDWzBdLGUpLHA9YShjLndpZHRoLGYpLGkscSxqPWEoYy5oZWlnaHQsZSkscj1hKGMubmVja1dpZHRoLGYpLHM9YShjLm5lY2tIZWlnaHQsZSksdj1qLXMsYT10aGlzLmRhdGEsdyx4LHU9Yy5kYXRhTGFiZWxzLnBvc2l0aW9uPT09XCJsZWZ0XCI/MTowLHksbSxCLG4sbCx0LG87dGhpcy5nZXRXaWR0aEF0PXE9ZnVuY3Rpb24oayl7cmV0dXJuIGs+ai1zfHxqPT09cz9yOnIrKHAtcikqKChqLXMtaykvKGotcykpfTt0aGlzLmdldFg9ZnVuY3Rpb24oayxhKXtyZXR1cm4gYisoYT8tMToxKSoocShrKS8yK2MuZGF0YUxhYmVscy5kaXN0YW5jZSl9O3RoaXMuY2VudGVyPVtiLGQsal07dGhpcy5jZW50ZXJYPWI7QShhLGZ1bmN0aW9uKGEpe2crPWEueX0pO0EoYSxmdW5jdGlvbihhKXtvPW51bGw7eD1nP2EueS9nOjA7bT1kLWovMitoKmo7bD1tK3gqajtpPXEobSk7eT1iLWkvMjtCPXkrXG5pO2k9cShsKTtuPWItaS8yO3Q9bitpO20+dj8oeT1uPWItci8yLEI9dD1iK3IvMik6bD52JiYobz1sLGk9cSh2KSxuPWItaS8yLHQ9bitpLGw9dik7dz1bXCJNXCIseSxtLFwiTFwiLEIsbSx0LGxdO28mJncucHVzaCh0LG8sbixvKTt3LnB1c2gobixsLFwiWlwiKTthLnNoYXBlVHlwZT1cInBhdGhcIjthLnNoYXBlQXJncz17ZDp3fTthLnBlcmNlbnRhZ2U9eCoxMDA7YS5wbG90WD1iO2EucGxvdFk9KG0rKG98fGwpKS8yO2EudG9vbHRpcFBvcz1bYixhLnBsb3RZXTthLnNsaWNlPXo7YS5oYWxmPXU7aCs9eH0pO3RoaXMuc2V0VG9vbHRpcFBvaW50cygpfSxkcmF3UG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxnPWEub3B0aW9ucyxlPWEuY2hhcnQucmVuZGVyZXI7QShhLmRhdGEsZnVuY3Rpb24oZil7dmFyIGg9Zi5ncmFwaGljLGM9Zi5zaGFwZUFyZ3M7aD9oLmFuaW1hdGUoYyk6Zi5ncmFwaGljPWUucGF0aChjKS5hdHRyKHtmaWxsOmYuY29sb3Isc3Ryb2tlOmcuYm9yZGVyQ29sb3IsXCJzdHJva2Utd2lkdGhcIjpnLmJvcmRlcldpZHRofSkuYWRkKGEuZ3JvdXApfSl9LFxuc29ydEJ5QW5nbGU6eixkcmF3RGF0YUxhYmVsczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGF0YSxnPXRoaXMub3B0aW9ucy5kYXRhTGFiZWxzLmRpc3RhbmNlLGUsZixoLGM9YS5sZW5ndGgsZCxiO2Zvcih0aGlzLmNlbnRlclsyXS09MipnO2MtLTspaD1hW2NdLGY9KGU9aC5oYWxmKT8xOi0xLGI9aC5wbG90WSxkPXRoaXMuZ2V0WChiLGUpLGgubGFiZWxQb3M9WzAsYixkKyhnLTUpKmYsYixkK2cqZixiLGU/XCJyaWdodFwiOlwibGVmdFwiLDBdO3AucGllLnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscy5jYWxsKHRoaXMpfX0pfSkoSGlnaGNoYXJ0cyk7XG4iXSwiZmlsZSI6InBsdWdpbnMvdWVkaXRvci90aGlyZC1wYXJ0eS9oaWdoY2hhcnRzL21vZHVsZXMvZnVubmVsLmpzIn0=
